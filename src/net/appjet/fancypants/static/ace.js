AppjetCodeEditor=function(){this.browserSupportsModern=false;this.aceImpl=null;this.containerDiv=null;
this.containerId=null;this.onKeyPress=null;this.onKeyDown=null;this.notifyDirty=null;this.isEditable=true;
};AppjetCodeEditor.prototype.init=function(B,D,C,A){this.containerId=B;this.containerDiv=document.getElementById(B);
if(C){this.aceImplModern=new Ace2Editor();this.aceImpl=this.aceImplModern;}else{this.aceImplPlain=new ACEPlain();
this.aceImpl=this.aceImplPlain;}this.aceImpl.init(B,D,A);};AppjetCodeEditor.prototype.updateBottomLinks=function(){if(ACEPlain.prototype.isPrototypeOf(this.aceImpl)){this.toggleModernLink.innerHTML="switch to rich text";
}else{this.toggleModernLink.innerHTML="switch to plaintext";}};AppjetCodeEditor.prototype.toggleModernImpl=function(){var D=this.aceImpl.exportCode();
if(ACEPlain.prototype.isPrototypeOf(this.aceImpl)){this.aceImpl.destroy();this.aceImpl=new Ace2Editor();
}else{this.aceImpl.destroy();this.aceImpl=new ACEPlain();}var A=this.containerDiv;while(A.firstChild){A.removeChild(A.firstChild);
}this.aceImpl.init(this.containerId,D,function(){});var C=this;function B(E){return E.substr(0,1).toUpperCase()+E.substr(1);
}$.each(["onKeyPress","onKeyDown","notifyDirty"],function(){var E="set"+B(this);if(C[this]){C.aceImpl[E](C[this]);
}});this.aceImpl.setEditable(this.isEditable);};AppjetCodeEditor.prototype.adjustContainerSizes=function(){};
AppjetCodeEditor.prototype.setOnKeyPress=function(A){this.onKeyPress=A;this.aceImpl.setOnKeyPress(this.onKeyPress);
};AppjetCodeEditor.prototype.setOnKeyDown=function(A){this.onKeyDown=A;this.aceImpl.setOnKeyDown(this.onKeyDown);
};AppjetCodeEditor.prototype.setNotifyDirty=function(A){this.notifyDirty=A;this.aceImpl.setNotifyDirty(this.notifyDirty);
};AppjetCodeEditor.prototype.setEditable=function(A){this.isEditable=A;this.aceImpl.setEditable(A);};
AppjetCodeEditor.prototype.adjustSize=function(){this.adjustContainerSizes();this.aceImpl.adjustSize();
};AppjetCodeEditor.prototype.importCode=function(A){this.aceImpl.importCode(A);};AppjetCodeEditor.prototype.exportCode=function(){return this.aceImpl.exportCode();
};AppjetCodeEditor.prototype.getFormattedCode=function(){return this.aceImpl.getFormattedCode();};AppjetCodeEditor.prototype.focus=function(){this.aceImpl.focus();
};ACEPlain=function(){this.containerDiv=null;this.textArea=null;this.onKeyPress=null;this.onKeyDown=null;
this.notifyDirty=null;};ACEPlain.prototype.init=function(C,F,B){var A=$("#"+C);A.empty();A.css("padding",0);
var E=$("<textarea></textarea>");E.css("border",0).css("margin",0).css("padding",0).css("background","transparent").css("color","#000").attr("spellcheck",false);
A.append(E);this.textArea=E;this.containerDiv=A;this.adjustSize();var D=this;E.keydown(function(G){if(D.onKeyDown){D.onKeyDown(G);
}});E.keypress(function(G){if(D.notifyDirty){D.notifyDirty();}if(D.onKeyPress){D.onKeyPress(G);}});E.get(0).value=F;
B();};ACEPlain.prototype.importCode=function(A){this.textArea.attr("value",A);};ACEPlain.prototype.exportCode=function(){return this.textArea.attr("value");
};ACEPlain.prototype.adjustSize=function(){this.textArea.width("100%");this.textArea.height(this.containerDiv.height());
};ACEPlain.prototype.setOnKeyPress=function(A){this.onKeyPress=A;};ACEPlain.prototype.setOnKeyDown=function(A){this.onKeyDown=A;
};ACEPlain.prototype.setNotifyDirty=function(A){this.notifyDirty=A;};ACEPlain.prototype.getFormattedCode=function(){return("<pre>"+this.textArea.attr("value")+"</pre>");
};ACEPlain.prototype.setEditable=function(A){if(A){this.textArea.removeAttr("disabled");}else{this.textArea.attr("disabled",true);
}};ACEPlain.prototype.focus=function(){this.textArea.focus();};ACEPlain.prototype.destroy=function(){};

Ace2Editor.registry={nextId:1};function Ace2Editor(){var M="Ace2Editor";var P=Ace2Editor;var I={};var C={editor:I,id:(P.registry.nextId++)};
var G=false;var H="";var L=[];function O(S,R){return function(){var U=this;var T=arguments;function V(){S.apply(U,T);
}if(R){R.apply(U,T);}if(G){V();}else{L.push(V);}};}function J(){for(var R=0;R<L.length;R++){L[R]();}L=[];
}P.registry[C.id]=C;I.importCode=O(function(R){C.ace_importCode(R);},function(R){if(!G){H=R;}});I.exportCode=function(){if(!G){return H;
}return C.ace_exportCode();};I.getFrame=function(){return C.frame||null;};I.focus=O(function(){C.ace_focus();
});I.adjustSize=O(function(){var S=C.frame.parentNode;var R=S.clientHeight;C.frame.style.height=(R?R+"px":S.style.height);
C.ace_editorChangedSize();});I.setEditable=O(function(R){C.ace_setEditable(R);});I.getFormattedCode=function(){return C.ace_getFormattedCode();
};I.setOnKeyPress=O(function(R){C.ace_setOnKeyPress(R);});I.setOnKeyDown=O(function(R){C.ace_setOnKeyDown(R);
});I.setNotifyDirty=O(function(R){C.ace_setNotifyDirty(R);});I.setProperty=O(function(R,S){C.ace_setProperty(R,S);
});I.setBaseText=O(function(R){C.ace_setBaseText(R);});I.applyChangesToBase=O(function(R){C.ace_applyChangesToBase(R);
});I.prepareUserChangeset=function(R){if(!G){return null;}return C.ace_prepareUserChangeset(R);};I.applyPreparedChangesetToBase=O(function(){C.ace_applyPreparedChangesetToBase();
});I.setUserChangeNotificationCallback=O(function(R){C.ace_setUserChangeNotificationCallback(R);});var E=function(R){return'<link rel="stylesheet" type="text/css" href="'+R+'"/>';
};var K=function(R){return'<script type="text/javascript" src="'+R+'"><\/script>';};var A=K;var D=E;var N=function(R){return'\'<link rel="stylesheet" type="text/css" href="'+R+"\"/>'";
};var B=function(R){return'\'<script type="text/javascript" src="'+R+"\">\\x3c/script>'";};var Q=B;var F=N;
I.destroy=O(function(){C.ace_dispose();C.frame.parentNode.removeChild(C.frame);delete P.registry[C.id];
});I.init=function(R,T,S){I.importCode(T);C.onEditorReady=function(){J();G=true;S();};(function(){var W='<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">';
var Y=["'"+W+"<html><head>'"];Y.push(("('<style type=\"text/css\">'+'body{margin:0;font-size:12px;font-family:monospace;background-color:#fff;white-space:nowrap;}body.doesWrap{white-space:normal;}body{line-height:16px;}#innerdocbody{padding-top:1px;padding-right:10px;padding-bottom:8px;padding-left:0;overflow:hidden;cursor:text;}#sidediv{font-size:11px;padding-top:8px;padding-right:3px;position:absolute;width:20px;top:0;left:0;cursor:default;color:white;}#sidedivinner{text-align:right;}.sidedivdelayed{background-color:#eee;color:#888!important;border-right:1px solid black;}#outerdocbody iframe{display:block;position:relative;left:32px;top:7px;border:0;width:1px;height:1px;}#outerdocbody .hotrect{border:1px solid #999;position:absolute;}body.mozilla,body.safari{display:table-cell;}body.doesWrap{display:block!important;}.safari div{padding-right:1px;}p{margin:0;}ul,ol,li{padding:0!important;margin:0!important;list-style:none!important;}'+'\\x3c/style>')"));
Y.push(("('<style type=\"text/css\">'+'.syntax .c{color:#bd3f00;font-style:italic;}.syntax .o{font-weight:bold;}.syntax .p{font-weight:bold;}.syntax .k{color:blue;}.syntax .kc{color:purple;}.syntax .mf{color:purple;}.syntax .mh{color:purple;}.syntax .mi{color:purple;}.syntax .sr{color:purple;}.syntax .s2{color:purple;}.syntax .s1{color:purple;}.syntax .sd{color:purple;}.syntax .cs{color:#0a3;font-weight:bold;font-style:italic;}.syntax .err{color:#c00;font-weight:bold;text-decoration:underline;}.syntax .nt{font-weight:bold;}.syntax .nc{color:#336;}.syntax .nf{color:#336;}.syntax .nd{color:#999;}.syntax .m{color:purple;}.syntax .nb{color:purple;}.syntax .cp{color:#bd3f00;}.syntax .flash{background-color:#adf;}.syntax .flashbad{background-color:#f55;}'+'\\x3c/style>')"));
Y.push(("('<style type=\"text/css\">'+'html{cursor:text;}'+'\\x3c/style>')"));Y.push(('(\'<script type="text/javascript">//<!--\\n\'+\'function isNodeText(A){return(A.nodeType==3);}function object(B){var A=function(){};A.prototype=B;return new A();}function extend(C,A){for(var B in A){C[B]=A[B];}return C;}function forEach(D,C){for(var B=0;B\\x3cD.length;B++){var A=C(D[B],B);if(A){break;}}}function map(D,C){var A=[];for(var B=0;B\\x3cD.length;B++){if(C){A.push(C(D[B],B));}else{A.push(D[B]);}}return A;}function filter(D,C){var A=[];for(var B=0;B\\x3cD.length;B++){if(C(D[B],B)){A.push(D[B]);}}return A;}function isArray(A){return A&&typeof A==="object"&&!(A.propertyIsEnumerable("length"))&&typeof A.length==="number";}var userAgent=navigator.userAgent.toLowerCase();var browser={version:(userAgent.match(/.+(?:rv|it|ra|ie)[\\\\/: ]([\\\\d.]+)/)||[])[1],safari:/webkit/.test(userAgent),opera:/opera/.test(userAgent),msie:/msie/.test(userAgent)&&!/opera/.test(userAgent),mozilla:/mozilla/.test(userAgent)&&!/(compatible|webkit)/.test(userAgent)};function getAssoc(B,A){return B["_magicdom_"+A];}function setAssoc(C,A,B){C["_magicdom_"+A]=B;}function binarySearch(C,D){if(C\\x3c1){return 0;}if(D(0)){return 0;}if(!D(C-1)){return C;}var B=0;var E=C-1;while((E-B)>1){var A=Math.floor((B+E)/2);if(D(A)){E=A;}else{B=A;}}return E;}function binarySearchInfinite(A,C){var B=0;while(!C(B)){B+=A;}return binarySearch(B,C);}function htmlPrettyEscape(A){return A.replace(/&/g,"&amp;").replace(/\\x3c/g,"&lt;").replace(/>/g,"&gt;").replace(/\\\\r?\\\\n/g,"\\\\\\\\n");}\'+\'//-->\\n\\x3c/script>\')'));
Y.push("''");Y.push(('(\'<script type="text/javascript">//<!--\\n\'+\'function newSkipList(){var B=window.PROFILER;if(!B){B=function(){return{start:E,mark:E,literal:E,end:E,cancel:E};};}function E(){}var G={key:null,levels:1,upPtrs:[null],downPtrs:[null],downSkips:[1],downSkipWidths:[0]};var F={key:null,levels:1,upPtrs:[null],downPtrs:[null],downSkips:[null],downSkipWidths:[null]};var N=0;var D=0;var H={};G.downPtrs[0]=F;F.upPtrs[0]=G;function J(Y){var a=G.levels;var Z=a-1;var V=-1,X=0;var T=new Array(a);var W=new Array(a);var b=new Array(a);T[Z]=G;W[Z]=-1;b[Z]=0;while(Z>=0){var U=T[Z];while(U.downPtrs[Z]&&(V+U.downSkips[Z]\\x3cY)){V+=U.downSkips[Z];X+=U.downSkipWidths[Z];U=U.downPtrs[Z];}T[Z]=U;W[Z]=V;b[Z]=X;Z--;if(Z>=0){T[Z]=U;}}return{nodes:T,idxs:W,loc:Y,widthSkips:b,toString:function(){return"getPoint("+Y+")";}};}function O(V){var U=0;var W=G;var T=G.levels-1;while(T>=0&&W.downPtrs[T]){while(W.downPtrs[T]&&(U+W.downSkipWidths[T]\\x3c=V)){U+=W.downSkipWidths[T];W=W.downPtrs[T];}T--;}if(W===G){return(G.downPtrs[0]||null);}else{if(W===F){return(V==D?(F.upPtrs[0]||null):null);}}return W;}function L(T){return(T&&T.width)||0;}function C(h,j,W){var f=B("insertKey",false);var V={key:j,levels:0,upPtrs:[],downPtrs:[],downSkips:[],downSkipWidths:[]};f.mark("donealloc");var g=h.nodes;var i=h.idxs;var a=h.loc;var Y=h.widthSkips[0]+h.nodes[0].downSkipWidths[0];var d=L(W);f.mark("loop1");while(V.levels==0||Math.random()\\x3c0.01){var e=V.levels;V.levels++;if(e==g.length){g[e]=G;i[e]=-1;G.levels++;F.levels++;G.downPtrs[e]=F;F.upPtrs[e]=G;G.downSkips[e]=N+1;G.downSkipWidths[e]=D;h.widthSkips[e]=0;}var k=V;var b=g[e];var c=b.downPtrs[e];var U=a-i[e];var T=b.downSkips[e]+1-U;b.downSkips[e]=U;b.downPtrs[e]=k;k.downSkips[e]=T;k.upPtrs[e]=b;k.downPtrs[e]=c;c.upPtrs[e]=k;var Z=Y-h.widthSkips[e];var X=b.downSkipWidths[e]+d-Z;b.downSkipWidths[e]=Z;k.downSkipWidths[e]=X;}f.mark("loop2");f.literal(g.length,"PNL");for(var e=V.levels;e\\x3cg.length;e++){var b=g[e];b.downSkips[e]++;b.downSkipWidths[e]+=d;}f.mark("map");H["$KEY$"+j]=V;N++;D+=d;f.end();}function I(T){return T.nodes[0].downPtrs[0];}function R(T){T.loc++;for(var U=0;U\\x3cT.nodes.length;U++){if(T.idxs[U]+T.nodes[U].downSkips[U]\\x3cT.loc){T.idxs[U]+=T.nodes[U].downSkips[U];T.widthSkips[U]+=T.nodes[U].downSkipWidths[U];T.nodes[U]=T.nodes[U].downPtrs[U];}}}function A(U){var Z=U.nodes[0].downPtrs[0];var W=L(Z.entry);for(var Y=0;Y\\x3cU.nodes.length;Y++){if(Y\\x3cZ.levels){var T=Z.upPtrs[Y];var a=Z.downPtrs[Y];var X=T.downSkips[Y]+Z.downSkips[Y]-1;T.downPtrs[Y]=a;a.upPtrs[Y]=T;T.downSkips[Y]=X;var V=T.downSkipWidths[Y]+Z.downSkipWidths[Y]-W;T.downSkipWidths[Y]=V;}else{var T=U.nodes[Y];var a=T.downPtrs[Y];T.downSkips[Y]--;T.downSkipWidths[Y]-=W;}}delete H["$KEY$"+Z.key];N--;D-=W;}function S(X){var U=X.downSkipWidths[0];var W=L(X.entry);var T=W-U;var Y=X;var V=0;while(V\\x3cY.levels){Y.downSkipWidths[V]+=T;V++;while(V>=Y.levels&&Y.upPtrs[V-1]){Y=Y.upPtrs[V-1];}}D+=T;}function K(V,U){var W=(U?0:-1);var X=V;while(X!==G){var T=X.levels-1;X=X.upPtrs[T];if(U){W+=X.downSkipWidths[T];}else{W+=X.downSkips[T];}}return W;}function Q(T){return H["$KEY$"+T];}function P(Y){var T=G;var V=G.levels-1;var U=-1;function X(Z){if(Z===G){return false;}else{if(Z===F){return true;}else{return Y(Z.entry);}}}while(V>=0){var W=T.downPtrs[V];while(!X(W)){U+=T.downSkips[V];T=W;W=T.downPtrs[V];}V--;}return U+1;}var M={length:function(){return N;},atIndex:function(T){if(T\\x3c0){console.warn("atIndex("+T+")");}if(T>=N){console.warn("atIndex("+T+">="+N+")");}return I(J(T)).entry;},splice:function(Z,V,U){if(Z\\x3c0){console.warn("splice("+Z+", ...)");}if(Z+V>N){console.warn("splice("+Z+", "+V+", ...), N="+N);console.warn("%s %s %s",typeof Z,typeof V,typeof N);console.trace();}if(!U){U=[];}var Y=J(Z);for(var T=0;T\\x3cV;T++){A(Y);}for(var T=(U.length-1);T>=0;T--){var X=U[T];C(Y,X.key,X);var W=Q(X.key);W.entry=X;}},next:function(T){return Q(T.key).downPtrs[0].entry||null;},prev:function(T){return Q(T.key).upPtrs[0].entry||null;},push:function(T){M.splice(N,0,[T]);},slice:function(X,T){if(X===undefined){X=0;}else{if(X\\x3c0){X+=N;}}if(T===undefined){T=N;}else{if(T\\x3c0){T+=N;}}if(T\\x3c=X){return[];}var W=M.atIndex(X);var V=[W];for(var U=1;U\\x3c(T-X);U++){W=W.next();V.push(W);}return V;},atKey:function(T){return Q(T).entry;},indexOfKey:function(T){return K(Q(T));},indexOfEntry:function(T){return M.indexOfKey(T.key);},containsKey:function(T){return !!(Q(T));},atOffset:function(T){return O(T).entry;},keyAtOffset:function(T){return M.atOffset(T).key;},offsetOfKey:function(T){return K(Q(T),true);},offsetOfEntry:function(T){return M.offsetOfKey(T.key);},setEntryWidth:function(U,T){U.width=T;S(Q(U.key));},totalWidth:function(){return D;},offsetOfIndex:function(T){if(T\\x3c0){return 0;}if(T>=N){return D;}return M.offsetOfEntry(M.atIndex(T));},indexOfOffset:function(T){if(T\\x3c=0){return 0;}if(T>=D){return N;}return M.indexOfEntry(M.atOffset(T));},search:function(T){return P(T);},debugGetPoint:J,debugDepth:function(){return G.levels;}};return M;}\'+\'//-->\\n\\x3c/script>\')'));
Y.push("''");Y.push(('(\'<script type="text/javascript">//<!--\\n\'+\'AceLexer=(function lexer_init(){function O(X,W){for(var V=0;V\\x3cX.length;V++){var U=W(X[V],V);if(U){break;}}}function R(X,W){var U=[];for(var V=0;V\\x3cX.length;V++){if(W){U.push(W(X[V],V));}else{U.push(X[V]);}}return U;}function I(X,W){var U=[];for(var V=0;V\\x3cX.length;V++){if(W(X[V],V)){U.push(X[V]);}}return U;}function H(U){return U&&typeof U==="object"&&!(U.propertyIsEnumerable("length"))&&typeof U.length==="number";}var Q=/(?:[^[\\\\\\\\.]+|\\\\\\\\(?:[\\\\S\\\\s]|$)|\\\\[\\\\^?]?(?:[^\\\\\\\\\\\\]]+|\\\\\\\\(?:[\\\\S\\\\s]|$))*]?)+|\\\\./g;var F=/(?:[^\\\\\\\\[]+|\\\\\\\\(?:[^0-9]|$)|\\\\[\\\\^?]?(?:[^\\\\\\\\\\\\]]+|\\\\\\\\(?:[\\\\S\\\\s]|$))*]?)+|\\\\\\\\([0-9]+)/g;var T=/(?:[^[(\\\\\\\\]+|\\\\\\\\(?:[\\\\S\\\\s]|$)|\\\\[\\\\^?]?(?:[^\\\\\\\\\\\\]]+|\\\\\\\\(?:[\\\\S\\\\s]|$))*]?|\\\\((?=\\\\?))+|(\\\\()/g;function N(V,W){var Z=V.length;var c=R(V,function(f){if((typeof f)=="string"){return f;}else{return f.source;}});var g=R(V,function(f){return((typeof f)!="string")&&f.multiline;});c.push("[\\\\\\\\S\\\\\\\\s]");g.push(false);var U=R(c,function(i){var f=0;i.replace(T,function(j,k,l){if(k){f++;}});return f;});var h=[];var d=1;O(U,function(f){h.push(d);d+=f+1;});var X=R(c,function(j,i){j=j.replace(F,function(l,k){if(k){return"\\\\\\\\"+((+k)+h[i]);}else{return l;}});var f=(g[i]?"[\\\\\\\\S\\\\\\\\s]":"");return"("+j+f+")";}).join("|");W=(W||"");var e="g";for(var Y=0;Y\\x3cW.length;Y++){var b=W.charAt(Y);if(b=="i"||b=="m"){e+=b;}else{if(b=="s"){X=X.replace(Q,function(f){return f==="."?"[\\\\\\\\S\\\\\\\\s]":f;});}}}var a=new RegExp(X,e);return function(o,q){a.lastIndex=q;var k=a.exec(o);var n;var s=[];for(var m=0;m\\x3c=Z;m++){var p=h[m];if(k[p]){n=m;for(var l=0;l\\x3c=U[m];l++){var f=k[p+l];if(g[m]&&l==0){f=f.substring(0,f.length-1);}s[l]=f;}break;}}if(n==Z){n=-1;}return{whichCase:n,result:s};};}var G={Token:"",Text:"",TEST:"test",Whitespace:"w",Error:"err",Other:"x",Dirty:"dirty",Keyword:"k","Keyword.Constant":"kc","Keyword.Declaration":"kd","Keyword.Pseudo":"kp","Keyword.Reserved":"kr","Keyword.Type":"kt",Name:"n","Name.Attribute":"na","Name.Builtin":"nb","Name.Builtin.Pseudo":"bp","Name.Class":"nc","Name.Constant":"no","Name.Decorator":"nd","Name.Entity":"ni","Name.Exception":"ne","Name.Function":"nf","Name.Property":"py","Name.Label":"nl","Name.Namespace":"nn","Name.Other":"nx","Name.Tag":"nt","Name.Variable":"nv","Name.Variable.Class":"vc","Name.Variable.Global":"vg","Name.Variable.Instance":"vi",Literal:"l","Literal.Date":"ld",String:"s","String.Backtick":"sb","String.Char":"sc","String.Doc":"sd","String.Double":"s2","String.Escape":"se","String.Heredoc":"sh","String.Interpol":"si","String.Other":"sx","String.Regex":"sr","String.Single":"s1","String.Symbol":"ss",Number:"m","Number.Float":"mf","Number.Hex":"mh","Number.Integer":"mi","Number.Integer.Long":"il","Number.Oct":"mo",Operator:"o","Operator.Word":"ow",Punctuation:"p",Comment:"c","Comment.Multiline":"cm","Comment.Preproc":"cp","Comment.Single":"c1","Comment.Special":"cs",Generic:"g","Generic.Deleted":"gd","Generic.Emph":"ge","Generic.Error":"gr","Generic.Heading":"gh","Generic.Inserted":"gi","Generic.Output":"go","Generic.Prompt":"gp","Generic.Strong":"gs","Generic.Subheading":"gu","Generic.Traceback":"gt"};function A(X,W){var Z={};var c={};var a=[];var U=[];var b={};for(var V in X){a.push(V);}while(a.length>0){var V=a.shift();var Y=true;O(X[V],function(e){if((typeof e)=="object"&&e.include){var d=e.include;if(/!$/.exec(d)){d=d.substring(0,d.length-1);}if(!b[d]){Y=false;return true;}}});if(Y){U.push(V);b[V]=true;}else{a.push(V);}}O(U,function(e){var d=X[e];var f=[];O(d,function(i){if((typeof i)=="object"&&i.include){var g=i.include;var h=false;if(/!$/.exec(g)){g=g.substring(0,g.length-1);h=true;}O(c[g],function(k){var j=[k[0],k[1],k[2]];if(h){if(!(k[2]&&k[2][0]&&k[2][0].indexOf("#pop")!=0)){j[2]=["#pop",g].concat(k[2]||[]);}}f.push(j);});}else{f.push(i);}});c[e]=f;Z[e]={switcher:N(R(f,function(g){return g[0];}),W),tokenTypes:R(f,function(g){return g[1];}),stateEffects:R(f,function(h){var g=h[2];if(!g){return[];}if(H(g)){return g;}return[g];})};});return function(l,p,f,h){var i=f.join("/");while(true){var e=Z[f[f.length-1]];var o=e.switcher(l,p);var j=o.whichCase;var g=o.result;var k,d;if(j\\x3c0){k="Error";d=null;}else{k=e.tokenTypes[j];d=e.stateEffects[j];}if(d){O(d,function(q){if(q==="#pop"){f.pop();}else{if(q==="#popall"){while(f.length>0){f.pop();}}else{f.push(q);}}});}var n=f.join("/");if(g[0].length>0){if((typeof k)==="object"&&k.bygroups){var m=k.bygroups;O(m,function(s,r){var q={width:g[r+1].length,type:s};if(r==0){q.stateBefore=i;}if(r==(m.length-1)){q.stateAfter=n;}h(q);});}else{h({width:g[0].length,type:k,stateBefore:i,stateAfter:n});}return p+g[0].length;}}};}function J(W){function V(b,a){var Z=["root"];var X=0;while(X\\x3cb.length){var Y=X;X=W(b,X,Z,function(c){a(b.substr(Y,c.width),c.type);Y+=c.width;});}}function U(b,a,Z){b+="\\\\n";var Y=b.indexOf("\\\\n");var X=0;V(b,function(c,f){var g=c.length;var e=g;while(e>0&&X+g>Y){var d=Y-X;if(d>0){a(b.substr(X,d),f);}X+=(d+1);e-=(d+1);if(X\\x3cb.length){Z();Y=b.indexOf("\\\\n",X);}}if(e>0){a(b.substr(X,e),f);X+=e;}});}return{lexString:V,lexAsLines:U};}var K=A({root:[[/.*?\\\\n/,"Text"],[/.+/,"Text"]]},"s");var D=A({root:[[/\\\\/\\\\*[^\\\\w\\\\n]+appjet:version[^\\\\w\\\\n]+[0-9.]+[^\\\\w\\\\n]+\\\\*\\\\/[^\\\\w\\\\n]*(?=\\\\n)/,"Comment.Special","main"],[/(?:)/m,"Text",["main","regex-ready","linestart"]]],whitespace:[[/\\\\n/,"Text","linestart"],[/[^\\\\S\\\\n]+/,"Text"],[/\\\\/\\\\*/,"Comment","longcomment"]],common:[{include:"whitespace"},[/\\\\"/,"String.Double","dstr"],[/\\\\\\\'/,"String.Single","sstr"]],"regex-ready":[{include:"whitespace"},[/\\\\/(?:[^[\\\\\\\\\\\\n\\\\/]|\\\\\\\\.|\\\\[\\\\^?]?(?:[^\\\\\\\\\\\\]\\\\n]|\\\\\\\\.)+\\\\]?)+\\\\/[gim]*/,"String.Regex"],[/(?:)/m,"Text","#pop"]],main:[[/\\\\"\\\\"\\\\"/,"String.Doc","mstr"],{include:"common"},[/\\x3c!--/,"Comment"],[/\\\\/\\\\/.*?(?=\\\\n)/,"Comment"],[/[\\\\{\\\\}\\\\[\\\\]\\\\(;]/,"Punctuation","regex-ready"],[/[\\\\).]/,"Punctuation"],[/[~\\\\^\\\\*!%&\\x3c>\\\\|=:,\\\\/?\\\\\\\\]/,"Operator","regex-ready"],[/[+-]/,"Operator"],["(import|break|case|catch|const|continue|default|delete|do|else|export|for|function|if|in|instanceof|label|new|return|switch|this|throw|try|typeof|var|void|while|with|abstract|boolean|byte|catch|char|class|const|debugger|double|enum|extends|final|finally|float|goto|implements|int|interface|long|native|package|private|protected|public|short|static|super|synchronized|throws|transient|volatile|let|yield)\\\\\\\\b","Keyword"],[/(true|false|null|NaN|Infinity|undefined)\\\\b/,"Keyword.Constant"],[/[$a-zA-Z_][a-zA-Z0-9_]*/,"Name.Other"],[/[0-9][0-9]*\\\\.[0-9]+([eE][0-9]+)?[fd]?/,"Number.Float"],[/0x[0-9a-f]+/,"Number.Hex"],[/[0-9]+/,"Number.Integer"]],csscommon:[{include:"common"},[/\\\\{/,"Punctuation","csscontent"],[/\\\\:[a-zA-Z0-9_-]+/,"Name.Decorator"],[/\\\\.[a-zA-Z0-9_-]+/,"Name.Class"],[/\\\\#[a-zA-Z0-9_-]+/,"Name.Function"],[/[a-zA-Z0-9_-]+/,"Name.Tag"],[/[~\\\\^\\\\*!%&\\\\[\\\\]\\\\(\\\\)\\x3c>\\\\|+=@:;,.\\\\/?-]/,"Operator"]],cssmain:[[/(@media)([^\\\\S\\\\n]+)(\\\\w+)([^\\\\S\\\\n]*)(\\\\{)/,{bygroups:["Keyword","Text","String","Text","Punctuation"]},"cssmedia"],{include:"csscommon"}],cssmedia:[{include:"csscommon"},[/\\\\}/,"Punctuation","#pop"]],csscontent:[{include:"common"},[/\\\\}/,"Punctuation","#pop"],[/url\\\\(.*?\\\\)/,"String.Other"],["(azimuth|background-attachment|background-color|background-image|background-position|background-repeat|background|border-bottom-color|border-bottom-style|border-bottom-width|border-left-color|border-left-style|border-left-width|border-right|border-right-color|border-right-style|border-right-width|border-top-color|border-top-style|border-top-width|border-bottom|border-collapse|border-left|border-width|border-color|border-spacing|border-style|border-top|border|caption-side|clear|clip|color|content|counter-increment|counter-reset|cue-after|cue-before|cue|cursor|direction|display|elevation|empty-cells|float|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|font|height|letter-spacing|line-height|list-style-type|list-style-image|list-style-position|list-style|margin-bottom|margin-left|margin-right|margin-top|margin|marker-offset|marks|max-height|max-width|min-height|min-width|opacity|orphans|outline|outline-color|outline-style|outline-width|overflow|padding-bottom|padding-left|padding-right|padding-top|padding|page|page-break-after|page-break-before|page-break-inside|pause-after|pause-before|pause|pitch|pitch-range|play-during|position|quotes|richness|right|size|speak-header|speak-numeral|speak-punctuation|speak|speech-rate|stress|table-layout|text-align|text-decoration|text-indent|text-shadow|text-transform|top|unicode-bidi|vertical-align|visibility|voice-family|volume|white-space|widows|width|word-spacing|z-index|bottom|left|above|absolute|always|armenian|aural|auto|avoid|baseline|behind|below|bidi-override|blink|block|bold|bolder|both|capitalize|center-left|center-right|center|circle|cjk-ideographic|close-quote|collapse|condensed|continuous|crop|crosshair|cross|cursive|dashed|decimal-leading-zero|decimal|default|digits|disc|dotted|double|e-resize|embed|extra-condensed|extra-expanded|expanded|fantasy|far-left|far-right|faster|fast|fixed|georgian|groove|hebrew|help|hidden|hide|higher|high|hiragana-iroha|hiragana|icon|inherit|inline-table|inline|inset|inside|invert|italic|justify|katakana-iroha|katakana|landscape|larger|large|left-side|leftwards|level|lighter|line-through|list-item|loud|lower-alpha|lower-greek|lower-roman|lowercase|ltr|lower|low|medium|message-box|middle|mix|monospace|n-resize|narrower|ne-resize|no-close-quote|no-open-quote|no-repeat|none|normal|nowrap|nw-resize|oblique|once|open-quote|outset|outside|overline|pointer|portrait|px|relative|repeat-x|repeat-y|repeat|rgb|ridge|right-side|rightwards|s-resize|sans-serif|scroll|se-resize|semi-condensed|semi-expanded|separate|serif|show|silent|slow|slower|small-caps|small-caption|smaller|soft|solid|spell-out|square|static|status-bar|super|sw-resize|table-caption|table-cell|table-column|table-column-group|table-footer-group|table-header-group|table-row|table-row-group|text|text-bottom|text-top|thick|thin|transparent|ultra-condensed|ultra-expanded|underline|upper-alpha|upper-latin|upper-roman|uppercase|url|visible|w-resize|wait|wider|x-fast|x-high|x-large|x-loud|x-low|x-small|x-soft|xx-large|xx-small|yes)\\\\\\\\b","Keyword"],["(indigo|gold|firebrick|indianred|yellow|darkolivegreen|darkseagreen|mediumvioletred|mediumorchid|chartreuse|mediumslateblue|black|springgreen|crimson|lightsalmon|brown|turquoise|olivedrab|cyan|silver|skyblue|gray|darkturquoise|goldenrod|darkgreen|darkviolet|darkgray|lightpink|teal|darkmagenta|lightgoldenrodyellow|lavender|yellowgreen|thistle|violet|navy|orchid|blue|ghostwhite|honeydew|cornflowerblue|darkblue|darkkhaki|mediumpurple|cornsilk|red|bisque|slategray|darkcyan|khaki|wheat|deepskyblue|darkred|steelblue|aliceblue|gainsboro|mediumturquoise|floralwhite|coral|purple|lightgrey|lightcyan|darksalmon|beige|azure|lightsteelblue|oldlace|greenyellow|royalblue|lightseagreen|mistyrose|sienna|lightcoral|orangered|navajowhite|lime|palegreen|burlywood|seashell|mediumspringgreen|fuchsia|papayawhip|blanchedalmond|peru|aquamarine|white|darkslategray|ivory|dodgerblue|lemonchiffon|chocolate|orange|forestgreen|slateblue|olive|mintcream|antiquewhite|darkorange|cadetblue|moccasin|limegreen|saddlebrown|darkslateblue|lightskyblue|deeppink|plum|aqua|darkgoldenrod|maroon|sandybrown|magenta|tan|rosybrown|pink|lightblue|palevioletred|mediumseagreen|dimgray|powderblue|seagreen|snow|mediumblue|midnightblue|paleturquoise|palegoldenrod|whitesmoke|darkorchid|salmon|lightslategray|lawngreen|lightgreen|tomato|hotpink|lightyellow|lavenderblush|linen|mediumaquamarine|green|blueviolet|peachpuff)\\\\\\\\b","Name.Builtin"],[/\\\\!important/,"Comment.Preproc"],[/\\\\#[a-zA-Z0-9]{1,6}/,"Number"],[/[\\\\.-]?[0-9]*[\\\\.]?[0-9]+(em|px|\\\\%|pt|pc|in|mm|cm|ex)/,"Number"],[/-?[0-9]+/,"Number"],[/[~\\\\^\\\\*!%&\\x3c>\\\\|+=@:,.\\\\/?-]+/,"Operator"],[/[\\\\[\\\\]();]+/,"Punctuation"],[/[a-zA-Z][a-zA-Z0-9]+/,"Name"]],linestart:[[/\\\\/\\\\*[^\\\\w\\\\n]+appjet:css[^\\\\w\\\\n]+\\\\*\\\\/[^\\\\w\\\\n]*(?=\\\\n)/,"Comment.Special",["#popall","root","cssmain"]],[/\\\\/\\\\*[^\\\\w\\\\n]+appjet:(\\\\w+)[^\\\\w\\\\n]+\\\\*\\\\/[^\\\\w\\\\n]*(?=\\\\n)/,"Comment.Special",["#popall","root","main","regex-ready"]],[/(?:)/m,"Text","#pop"]],dstr:[[/\\\\"/,"String.Double","#pop"],[/(?=\\\\n)/m,"String.Double","#pop"],[/(\\\\\\\\\\\\\\\\|\\\\\\\\\\\\"|[^\\\\"\\\\n])+/,"String.Double"]],sstr:[[/\\\\\\\'/,"String.Single","#pop"],[/(?=\\\\n)/m,"String.Single","#pop"],[/(\\\\\\\\\\\\\\\\|\\\\\\\\\\\\\\\'|[^\\\\\\\'\\\\n])+/,"String.Single"]],longcomment:[[/\\\\*\\\\//,"Comment","#pop"],[/\\\\n/,"Comment"],[/.+?(?:\\\\n|(?=\\\\*\\\\/))/,"Comment"]],mstr:[[/(\\\\\\\\\\\\"\\\\"\\\\"|\\\\n)/,"String.Doc"],[/\\\\"\\\\"\\\\"/,"String.Doc","#pop"],[/.+?(?=\\\\\\\\"""|"""|\\\\n)/,"String.Doc"]]});function M(V){var U=/[&\\x3c>\\\\\\\'\\\\" ]/g;if(!U.MAP){U.MAP={"&":"&amp;","\\x3c":"&lt;",">":"&gt;",\\\'"\\\':"&#34;","\\\'":"&#39;"," ":"&#160;"};}return V.replace(U,function(W){return U.MAP[W];});}var S=J(D);function E(U){var X=true;var W=[];function Y(Z,b){var a=G[b];if(a){W.push(\\\'\\x3ctt class="\\\',G[b],\\\'">\\\');}else{W.push("\\x3ctt>");}W.push(M(Z),"\\x3c/tt>");X=false;}function V(){W.push("\\x3cbr/>\\\\n");X=true;}S.lexAsLines(U,Y,V);if(X){W.push("\\x3cbr/>\\\\n");}return W.join("");}function L(g){var i=newSkipList();var o="";var j=1;var U=[];var d=[];function n(t,r){var u=t[0],s=t[1],w=r[0],v=r[1];if(s\\x3cw){return null;}if(v\\x3cu){return null;}var y=((u\\x3cw)?u:w);var x=((s>v)?s:v);return[y,x];}function l(s){var r=false;O(d,function(u,v){var t=n(u,s);if(t){d[v]=t;r=true;return true;}});if(!r){d.push(s);}}function q(r){var s=d.length-1;while(s>=0){Y(r,s);s--;}}function Y(t,u){var s=u;var r=d[s];var w=t[0],v=t[1];if(w\\x3cr[0]){w=r[0];}if(v>r[1]){v=r[1];}if(v\\x3c=w){return ;}d.splice(s,1);if(r[0]\\x3cw){d.splice(s,0,[r[0],w]);}if(v\\x3cr[1]){d.splice(s,0,[v,r[1]]);}}function e(r){O(r,function(s){s.key="$"+(j++);});return r;}function W(r){return i.indexOfOffset(r);}function Z(r){var t;if(r==i.totalWidth()){t=i.length();}else{var s=i.keyAtOffset(r);t=i.indexOfKey(s);if(r>i.offsetOfKey(s)){t++;}}return t;}function b(s){if(i.length()==0){return 0;}var t=W(s);if(t>0){var r=i.atIndex(t-1);while(r&&(!r.stateAfter)){t--;r=i.prev(r);}}return t;}function m(t){if(i.length()==0){return 0;}var s=Z(t);if(s\\x3ci.length()){var r=i.atIndex(s);while(r&&(!r.stateBefore)){s++;r=i.next(r);}}return s;}function a(AC,AA,w,AE){o=AC;if(AA>0){var z=o.lastIndexOf("\\\\n",AA-1)+1;var AB=AA-z;AA-=AB;w+=AB;AE+=AB;}var u=b(AA);var x=m(AA+w);var AG=0;while(AG==0){var AD=i.offsetOfIndex(u);var AF=i.offsetOfIndex(x);AG=(AF-AD)+(AE-w);if(AG==0){if(AF>=i.totalWidth()){break;}x=m(AF+1);}}var v=[];if(AG>0){v.push({width:AG,type:"Dirty"});}i.splice(u,x-u,e(v));if(i.totalWidth()!=o.length){console.error("updateBuffer: Bad total token width: "+i.totalWidth()+" not "+o.length);}O(v,function(r){U.push(r.key);});U=I(U,function(r){return i.containsKey(r);});function t(r){if(r\\x3c=AA){return r;}if(r>=(AA+w)){return r+AE-w;}return AA;}for(var y=d.length-1;y>=0;y--){var s=d[y];s[0]=t(s[0]);s[1]=t(s[1]);if(s[1]\\x3c=s[0]){d.splice(y,1);}}}function X(x,r,AK){var s;if(!i.prev(x)){s=["root"];}else{s=i.prev(x).stateAfter.split("/");}var AD=[];var AL=i.indexOfEntry(x);var v=0;var z=(new Date()).getTime();var AI=(typeof (AK)=="number");var AJ=i.offsetOfEntry(x);var AC=AJ;var t=x;var w=AJ;var AB=false;while((!AB)&&(!r())&&(!(AI&&AJ>=AK))){AJ=g(o,AJ,s,function(AM){AD.push(AM);});while(t&&(w+t.width\\x3c=AJ)){w+=t.width;t=i.next(t);}if(AJ==i.totalWidth()){AB=true;}else{if(w==AJ){if(s.join("/")===t.stateBefore){AB=true;}}}}var AF=AJ;var AE=AF-AC;var u;var AH;if(AE\\x3cx.width){i.setEntryWidth(x,x.width-AE);u=0;AH=x;}else{var AA=m(AF);var y=i.offsetOfIndex(AA);if(y==AF&&(!AB)&&AF\\x3ci.totalWidth()){AA=m(AF+1);y=i.offsetOfIndex(AA);}var AG=y-AF;if(AG>0){AH={width:AG,type:"Dirty"};AD.push(AH);}u=AA-AL;}e(AD);i.splice(AL,u,[]);i.splice(AL,0,AD);if(i.totalWidth()!=o.length){console.error("processDirtyToken: Bad total token width: "+i.totalWidth()+" not "+o.length);}l([AC,AF]);return(AH&&AH.key);}function f(t,s){var r=[];O(U,function(w){if(!i.containsKey(w)){return ;}var y=i.atKey(w);var v;if((!s())&&((v=t(y)))){var x;if((typeof v)=="object"&&(typeof v.stopAtChar)=="number"){x=v.stopAtChar;}var u=X(y,s,v.stopAtChar);if(u){r.push(u);}}else{r.push(w);}if(i.totalWidth()!=o.length){console.error("Bad total token width: "+i.totalWidth()+" not "+o.length);}});U=r;}function p(s,r){if(r()){return ;}f(function(w){var v=i.offsetOfEntry(w);var u=v+w.width;if(u\\x3c=s[0]){return false;}if(v>=s[1]){return false;}var t={};if(s[1]\\x3cu){t.stopAtChar=s[1];}return t;},r);}function k(r){return toSource({width:r.width,type:r.type,stateBefore:r.stateBefore,stateAfter:r.stateAfter});}function V(v,t){var s=0;while(s\\x3cd.length&&!t()){var r=d[s];var u=v(r[0],r[1],t);if(u){s=0;}else{s++;}}}function h(r,u,t,s){V(function(v,x,w){if(v\\x3cr){v=r;}if(x>u){x=u;}if(x>v){return t(v,x,w);}return false;},s);}function c(z,u,t,x){if(z==u){return ;}var v=i.atOffset(z);var y=i.offsetOfEntry(v);var s=z;var w=v;while(s\\x3cu){var r;if(w===v){r=y+v.width;}else{r=s+w.width;}if(r>u){r=u;}if(r>s){t(r-s,G[w.type]);}s=r;w=i.next(w);}if(!x){q([z,u]);}}return{updateBuffer:a,lexCharRange:p,getSpansForRange:c,forEachUncoloredSubrange:h};}tokenProds={js:D,txt:K};function P(U){return tokenProds[U||"txt"]||tokenProds.txt;}function C(U){return L(P(U));}function B(U){return J(getTokenProdcuer(U));}return{getIncrementalLexer:C,getSimpleLexer:B,codeStringToHTML:E};})();\'+\'//-->\\n\\x3c/script>\')'));
Y.push(('(\'<script type="text/javascript">//<!--\\n\'+\'function makeVirtualLineView(G){var A=20;var C=null;function B(){return G.textContent.length;}function F(){if(!C){var I=H();I.forwardByWhile(A);C=I;}return C.getVirtualLine()+1;}function E(L){var J=H();J.forwardByWhile(A,null,L);var K=J.getVirtualLine();J.backwardByWhile(8,function(){return J.getVirtualLine()==K;});J.forwardByWhile(1,function(){return J.getVirtualLine()!=K;});var I=J.getOffset();return{vline:K,offset:(L-I)};}function D(L,P){var I=H();I.binarySearch(function(){return I.getVirtualLine()>=L;});var K=I.getOffset();var J=I.getVirtualLine();I.forwardByWhile(A,null,K+P);I.backwardByWhile(1,function(){return I.getVirtualLine()!=J;},K);var N=I.getOffset();var O=N-K;if(O\\x3cP&&J==(F()-1)){var M=B();O+=M-N;N=M;}return{vline:J,offset:O,lineChar:N};}return{getNumVirtualLines:F,getVLineAndOffsetForChar:E,getCharForVLineAndOffset:D,makeCharSeeker:function(){return H();}};function H(){function J(e,b){var Z=e.parentNode;var d=(e.nodeValue.charAt(b)===" ");if(d){if(b==0){if(Z.previousSibling&&Z.previousSibling.firstChild&&Z.previousSibling.firstChild.data){e=Z.previousSibling.firstChild;b=e.length-1;Z=e.parentNode;}else{return{top:Z.offsetTop,left:Z.offsetLeft};}}else{b--;}}var c=document.createElement("SPAN");var a=e.nodeValue;var f=document.createDocumentFragment();f.appendChild(document.createTextNode(a.substring(0,b)));c.appendChild(document.createTextNode(a.substr(b,1)));f.appendChild(c);f.appendChild(document.createTextNode(a.substring(b+1)));Z.replaceChild(f,e);var Y={top:c.offsetTop,left:c.offsetLeft+(d?c.offsetWidth:0),height:c.offsetHeight};while(Z.firstChild){Z.removeChild(Z.firstChild);}Z.appendChild(e);return Y;}var X=G.textContent;var K=X.length;var R=null;var M=0;var L=0;var O;var Q;var T;var V=0;function S(){var Y=R;if(!Y){Y=G.firstChild;}else{Y=Y.nextSibling;}while(Y&&!(Y.firstChild&&Y.firstChild.data)){Y=Y.nextSibling;}return Y;}function I(){var Y=R;if(!Y){Y=G.lastChild;}else{Y=Y.previousSibling;}while(Y&&!(Y.firstChild&&Y.firstChild.data)){Y=Y.previousSibling;}return Y;}var P;if(K>0){R=S();var W=J(R.firstChild,0);T=W.height;O=W.top;Q=W.left;function U(a,Y){var Z=J(a,Y);V+=Math.round((Z.top-O)/T);O=Z.top;Q=Z.left;}P={forward:function(c){var Z=M;var Y=M+c;if(Y>(K-1)){Y=K-1;}while(M\\x3cY){var a=R.firstChild.length;var b=a-L;if(M+b>Y||!S()){var d=Y-M;if(d>=b){d=b-1;}M+=d;L+=d;break;}else{M+=b;L=0;R=S();}}U(R.firstChild,L);return M-Z;},backward:function(a){var Z=M;var Y=M-a;if(Y\\x3c0){Y=0;}while(M>Y){if(M-L\\x3c=Y||!I()){var b=M-Y;if(b>L){b=L;}M-=b;L-=b;break;}else{M-=L+1;R=I();L=R.firstChild.length-1;}}U(R.firstChild,L);return Z-M;},getVirtualLine:function(){return V;},getLeftCoord:function(){return Q;}};}else{Q=G.offsetLeft;P={forward:function(Y){return 0;},backward:function(Y){return 0;},getVirtualLine:function(){return 0;},getLeftCoord:function(){return Q;}};}P.getOffset=function(){return M;};P.getLineLength=function(){return K;};P.toString=function(){return"seeker[curChar: "+M+"("+X.charAt(M)+"), left: "+P.getLeftCoord()+", vline: "+P.getVirtualLine()+"]";};function N(f,b,h,d){var e=null;var a=((typeof h)=="function");var Z=h;var Y=((typeof d)=="number");var g=d;while(e!==0&&((!a)||Z())){var c=b;if(Y){var i=(f?M-g:g-M);if(i\\x3cc){c=i;}}if(c\\x3c0){break;}e=(f?P.backward(c):P.forward(c));}}P.forwardByWhile=function(Y,a,Z){N(false,Y,a,Z);};P.backwardByWhile=function(Y,a,Z){N(true,Y,a,Z);};P.binarySearch=function(Y){var Z=Y;var a=function(){return !Y();};P.forwardByWhile(20,a);P.backwardByWhile(20,Z);P.forwardByWhile(10,a);P.backwardByWhile(5,Z);P.forwardByWhile(1,a);return P.getOffset()+(Y()?0:1);};return P;}}\'+\'//-->\\n\\x3c/script>\')'));
Y.push(('(\'<script type="text/javascript">//<!--\\n\'+\'function Changeset(I){var F;if((typeof I)=="string"){F=[Changeset.MAGIC,0,I.length,0,0,I];}else{if((typeof I)=="number"){var B=Math.round(I);F=[Changeset.MAGIC,B,0,0,0,""];}else{if(!I){F=[Changeset.MAGIC,0,0,0,0,""];}else{if(I.isChangeset){return I;}else{F=I;}}}}F.isChangeset=true;function H(J){throw new Error(J);}function A(J,K){if(!J){H("Changeset: "+String(K));}}function D(J,K){return(J\\x3cK)?J:K;}F.isIdentity=function(){return this.length==6&&this[1]==this[2]&&this[3]==0&&this[4]==this[1]&&this[5]=="";};F.eachStrip=function(K,L){for(var J=0;J\\x3cthis.numStrips();J++){var M=3+J*3;if(K.call(L||this,this[M],this[M+1],this[M+2],J)){return true;}}return false;};F.numStrips=function(){return(this.length-3)/3;};F.oldLen=function(){return this[1];};F.newLen=function(){return this[2];};F.checkRep=function(){A(this[0]==Changeset.MAGIC,"bad magic");A(this[1]>=0,"bad old text length");A(this[2]>=0,"bad new text length");A((this.length%3)==0,"bad array length");A(this.length>=6,"must be at least one strip");var M=this.numStrips();var K=this[1];var L=this[2];var J=0;this.eachStrip(function(U,X,R,Q){var W=U,V=X,N=R;var O=(Q==0);var P=(Q==M-1);A(V>=0,"can\\\'t take negative number of chars");A(O||V>0,"all strips but first must take");A((V>0)||(W==0),"if first strip doesn\\\'t take, must have 0 startIndex");A(W>=0&&W+V\\x3c=K,"bad index: "+this.toString());A(V>0||N.length>0||(O&&P),"empty strip must be first and only");if(!P){var T=this[3+Q*3+3];var S=T-(W+V);A(S>=0,"overlapping or out-of-order strips: "+this.toString());A(S>0||N.length>0,"touching strips with no added text");}J+=V+N.length;});A(L==J,"calculated new text length doesn\\\'t match");};F.applyToText=function(K){A(K.length==this.oldLen(),"mismatched apply: "+K.length+" / "+this.oldLen());var J=[];this.eachStrip(function(M,L,N){J.push(K.substr(M,L),N);});return J.join("");};function G(J){return Changeset(J).builder();}F.builder=function(){var K=this;var J;return J={appendNewText:function(L){K[K.length-1]+=L;K[2]+=L.length;return J;},appendOldText:function(O,M){if(M==0){return J;}var N=K[K.length-3],L=K[K.length-2],P=K[K.length-1];if(L==0&&P==""){K[K.length-3]=O;K[K.length-2]=M;}else{if(P==""&&(N+L==O)){K[K.length-2]+=M;}else{K.push(O,M,"");}}K[2]+=M;K.checkRep();return J;},toChangeset:function(){return K;}};};function E(O,P){var M=0;var U=0;var S=0;var V=false;var L=3;function Q(){return O[L];}function N(){return O[L+1];}function X(){return O[L+2];}function T(){return N()+X().length;}function R(){A(!V,"_slicer: can\\\'t move past changeset end");}function K(Y){S+=Y;M+=Y;}function J(){R();A(S==T(),"_slicer: not at strip end");S=0;U++;L+=3;if(U==O.numStrips()){V=true;}}var W;return W={skipChars:function(a){A(a>=0,"_slicer: can\\\'t skip negative n");if(a==0){return ;}R();var Y=a;while(Y>0){var Z=T()-S;if(Y>=Z){K(Z);Y-=Z;J();}else{K(Y);Y=0;}}},takeChars:function(c){A(c>=0,"_slicer: can\\\'t take negative n");if(c==0){return ;}R();var Y=c;while(Y>0){if(N()>0&&S\\x3cN()){var b=(N()-S);A(b>0,"_slicer: should have leftInTaken > 0");var Z=D(b,Y);A(Z>0,"_slicer: should have toTake > 0");P.appendOldText(Q()+S,Z);K(Z);Y-=Z;}if(Y>0&&X().length>0&&S>=N()&&S\\x3cT()){var a=(T()-S);A(a>0,"_slicer: should have leftInNewText > 0");var Z=D(a,Y);A(Z>0,"_slicer: should have toTake > 0");P.appendNewText(X().substr(S-N(),Z));K(Z);Y-=Z;}A(S\\x3c=T(),"_slicer: past end of strip");if(S==T()){J();}}},skipTo:function(Y){W.skipChars(Y-M);}};}F.slicer=function(J){return E(this,J);};F.compose=function(K){A(K.oldLen()==this.newLen(),"mismatched composition");var J=G(this.oldLen());var L=E(this,J);K.eachStrip(function(N,M,O){L.skipTo(N);L.takeChars(M);J.appendNewText(O);},this);return J.toChangeset();};F.traverser=function(){return C(this);};function C(P){var N=P[3],M=P[4],Q=P[5];var J=6;var L=0;function O(){if(M==0&&Q==""&&J\\x3cP.length){N=P[J];M=P[J+1];Q=P[J+2];J+=3;}}var K;return K={numTakenChars:function(){return(M>0)?M:0;},numNewChars:function(){return(M==0&&Q.length>0)?Q.length:0;},takenCharsStart:function(){return(K.numTakenChars()>0)?N:0;},hasMore:function(){return K.numTakenChars()>0||K.numNewChars()>0;},curIndex:function(){return L;},consumeTakenChars:function(R){A(K.numTakenChars()>0,"_traverser: no taken chars");A(R>=0&&R\\x3c=K.numTakenChars(),"_traverser: bad number of taken chars");if(R==0){return ;}if(M==R){N=0;M=0;}else{N+=R;M-=R;}L+=R;O();},consumeNewChars:function(R){A(K.numNewChars()>0,"_traverser: no new chars");A(R>=0&&R\\x3c=K.numNewChars(),"_traverser: bad number of new chars");if(R==0){return"";}var S=Q.substring(0,R);Q=Q.substring(R);L+=R;O();return S;},consumeAvailableTakenChars:function(){return K.consumeTakenChars(K.numTakenChars());},consumeAvailableNewChars:function(){return K.consumeNewChars(K.numNewChars());}};}F.follow=function(N,O){A(N.oldLen()==this.oldLen(),"mismatched follow: "+N.oldLen()+"/"+this.oldLen());var M=G(N.newLen());var L=C(N);var K=C(this);while(L.hasMore()||K.hasMore()){if(L.numNewChars()>0&&!O){M.appendOldText(L.curIndex(),L.numNewChars());L.consumeAvailableNewChars();}else{if(K.numNewChars()>0){M.appendNewText(K.consumeAvailableNewChars());}else{if(L.numNewChars()>0&&O){M.appendOldText(L.curIndex(),L.numNewChars());L.consumeAvailableNewChars();}else{if(!K.hasMore()){L.consumeAvailableTakenChars();}else{if(!L.hasMore()){K.consumeAvailableTakenChars();}else{var J=L.takenCharsStart();var Q=K.takenCharsStart();if(J\\x3cQ){L.consumeTakenChars(D(L.numTakenChars(),Q-J));}else{if(Q\\x3cJ){K.consumeTakenChars(D(K.numTakenChars(),J-Q));}else{var P=D(L.numTakenChars(),K.numTakenChars());M.appendOldText(L.curIndex(),P);L.consumeTakenChars(P);K.consumeTakenChars(P);}}}}}}}}return M.toChangeset();};F.encodeToString=function(){var K=[];var J=[];J.push(this[0],this[1],this[2]);this.eachStrip(function(M,L,N){J.push(M,L,N.length);K.push(N);},this);return J.join(",")+"|"+K.join("");};return F;}Changeset.MAGIC="Changeset";Changeset.makeSplice=function(B,E,D,C){B=(B||0);E=(E||0);D=(D||0);C=String(C||"");var A=Changeset(B).builder();A.appendOldText(0,E);A.appendNewText(C);A.appendOldText(E+D,B-D-E);return A.toChangeset();};Changeset.identity=function(A){return Changeset(A).builder().appendOldText(0,A).toChangeset();};Changeset.decodeFromString=function(E){var D=E.indexOf("|");var C=E.substring(0,D).split(",");var B=E.substring(D+1);var H=0;var G=[];G.push(C[0],Number(C[1]),Number(C[2]));var F=3;while(F\\x3cC.length){G.push(Number(C[F++]),Number(C[F++]));var A=Number(C[F++]);G.push(B.substr(H,A));H+=A;}return Changeset(G);};\'+\'//-->\\n\\x3c/script>\')'));
Y.push(('(\'<script type="text/javascript">//<!--\\n\'+\'function OUTER(A0){var M=false;var AV=false;var Aj="    ";var BN=4;var Al=4;var BL=20;var b=8;var Bd=8;var D=(function(){var i="";var Bn=null;var Bm=Changeset();var Bo=false;var Bp=false;var Bl=null;return{isTracking:function(){return Bo;},setBaseText:function(Bq){AA("setBaseText",function(){AB(Bq,true);var Br=AI.alltext;i=Br;Bn=null;Bm=Changeset.identity(Br.length);Bo=true;});},composeUserChangeset:function(Bq){if(!Bo){return ;}if(Bp){return ;}if(Bq.isIdentity()){return ;}Bm=Bm.compose(Bq);if(Bl){Aq.setTimeout(Bl,0);}},applyChangesToBase:function(Bq){if(!Bo){return ;}AA("applyChangesToBase",function(){Bc();if((typeof Bq)=="string"){Bq=Changeset.decodeFromString(Bq);}i=Bq.applyToText(i);var Bt=Bq;if(Bn){var Bs=Bn;Bn=Bs.follow(Bq);var Bt=Bq.follow(Bs,true);}var Bu=Bm;Bm=Bu.follow(Bt);var Br=Bt.follow(Bu,true);Bp=true;try{BJ(Br);}finally{Bp=false;}});},prepareUserChangeset:function(Bq){if(Bn){throw new Error("prepareUserChangeset: can\\\'t prepare new changes with old changes not applied");}if(Bm.isIdentity()){return null;}Bn=Bm;Bm=Changeset.identity(Bn.newLen());if(Bq){return Bn.encodeToString();}else{return Bn;}},applyPreparedChangesetToBase:function(){if(!Bn){throw new Error("applySubmittedChangesToBase: no submitted changes to apply");}i=Bn.applyToText(i);Bn=null;},setUserChangeNotificationCallback:function(Bq){Bl=Bq;}};})();var Y=BL+BN+Bd;var BV=b;var n=0,BC=0;var A7=(M&&top.console);if(!A7){var C=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"];A7={};for(var A2=0;A2\\x3cC.length;++A2){A7[C[A2]]=function(){};}}var X=window.PROFILER;if((!M)||(!X)){X=function(){return{start:G,mark:G,literal:G,end:G,cancel:G};};}function G(){}function r(i){return i;}var Aq=parent;function AM(i){Aq.setTimeout(function(){alert(i);},0);}var Bh=null;function AL(Br,Bo){if(BH){return ;}if(Bh){A7.error("Can\\\'t enter callstack "+Br+", already in "+Bh.type);}var Bn=false;function i(){Bn=true;A7.profile();}function Bl(Bu){return{type:Bu,ops:[]};}function Bm(Bu){Bu.selStart=AI.selStart;Bu.selEnd=AI.selEnd;Bu.selFocusAtStart=AI.selFocusAtStart;Az.submitEditEvent(Bu);}function Bp(Bu){Bm(Bh.editEvent);Bh.editEvent=Bl(Bu);}Bh={type:Br,docTextChanged:false,selectionAffected:false,userChangedSelection:false,domClean:false,profileRest:i,isUserChange:false,repChanged:false,editEvent:Bl(Br),startNewEvent:Bp};var Bs=false;var Bt;try{Bt=Bo();Bs=true;}finally{var Bq=Bh;if(Bs){Bm(Bq.editEvent);if(Bq.domClean&&Bq.type!="setup"){if(Bq.isUserChange){if(Bq.repChanged){B.notifyChange();}else{B.notifyTick();}}if(Bq.selectionAffected){O();}if(Bq.docTextChanged||Bq.userChangedSelection){BA();}if(Bq.docTextChanged&&Bq.type!="importCode"){F();}}}Bh=null;if(Bn){A7.profileEnd();}}return Bt;}function AA(i,Bl){if(!Bh){AL(i,Bl);}else{Bl();}}var B=(function(){var Bm={};Bm.notifyTick=function(){Bn(false);};Bm.notifyChange=function(){Bn(true);};Bm.shouldNormalizeOnChar=function(Bq){if(Bl.active){return true;}Bq=String.fromCharCode(Bq);return !!(Bo[Bq]);};function Bp(Bq){if(AI.lines.containsKey(Bq)){var Bs=AI.lines.offsetOfKey(Bq);var Br=AI.lines.atKey(Bq).width;AG(Bs,Bs+Br);}}var Bl={active:false,whichChars:null,whichLineKeys:null,expireTime:null};var Bo={"(":1,")":-1,"[":2,"]":-2,"{":3,"}":-3};var i=/[{}\\\\[\\\\]()]/g;function Bn(Bu){function B2(B5){var B4=A3();var B7=100;var B6=3000;if(B4[0]>B5-B7){B4[0]=B5-B7;}if(B4[0]\\x3cB5-B6){B4[0]=B5-B6;}if(B4[0]\\x3c0){B4[0]=0;}if(B4[1]\\x3cB5+B7){B4[1]=B5+B7;}if(B4[1]>B5+B6){B4[1]=B5+B6;}if(B4[1]>AI.lines.totalWidth()){B4[1]=AI.lines.totalWidth();}return B4;}function B3(CA,B8){var B4=B2(CA);var CE=AI.alltext.substring(B4[0],B4[1]);var B6=CE.replace(i,"(");var CC=CA-B4[0];var CD=[];var CH=false;var B5=false;function CB(){if(CC\\x3c0){return ;}if(B8){CC++;}else{CC--;}if(CC\\x3c0||CC>=CE.length){CC=-1;}if(CC>=0){if(B8){CC=B6.indexOf("(",CC);}else{CC=B6.lastIndexOf("(",CC);}}}while((!CH)&&(CC>=0)){if(A1(CC+B4[0])=="p"){var CF=Bo[CE.charAt(CC)];var B9=B8;var B7=CF;if(B7\\x3c0){B9=!B9;B7=-B7;}if(B9){CD.push(B7);}else{var CG=CD.pop();if(CG!=B7){CH=true;B5=false;}else{if(CD.length==0){CH=true;B5=true;}}}}if((!CH)&&(CC>=0)){CB();}}if(!CH){return null;}return{chr:(CC+B4[0]),good:B5};}var Bq=Bl;var Bv=null;var B1=null;if(Bq.active&&(Bu||(Ax()>Bq.expireTime))){B1=Bq.whichLineKeys;Bq.active=false;}if((!Bq.active)&&Bu&&Bb()&&BW()>0){var B0=AF();if(B0>0&&A1(B0-1)=="p"){var Bs=AI.alltext.charAt(B0-1);if(Bo[Bs]){var Bw=(Bo[Bs]>0);var Bt=B3(B0-1,Bw);if(Bt){var Br=Bt.chr;var By=Bt.good;Bq.active=true;Bv={};Bv[B0-1]="flash";Bv[Br]=(By?"flash":"flashbad");Bq.whichLineKeys=[];Bq.whichLineKeys.push(AI.lines.atOffset(B0-1).key);Bq.whichLineKeys.push(AI.lines.atOffset(Br).key);Bq.expireTime=Ax()+4000;newlyActive=true;}}}}if(B1){Bp(B1[0]);Bp(B1[1]);}if(Bq.active&&Bv){function Bx(B5,B6,B7,B8){var B4=Bv[B8];if(B6){B7(B5,B6+" "+B4);}else{B7(B5,B6);}}for(var Bz in Bv){AG((+Bz),(+Bz)+1,null,Bx);}}}return Bm;})();var Az=(function(){var Bn={};function i(Bp,B1){if(Bp.newText.indexOf("\\\\n")>=0||B1.oldText.indexOf("\\\\n")>=0||B1.newText.indexOf("\\\\n")>=0){return false;}if((Bp.newText.length==0)!=(B1.newText.length==0)){return false;}var Bs=Bp.startChar;var Br=Bs+Bp.oldText.length;var By=Bs;var Bx=By+Bp.newText.length;var Bv=B1.startChar;var Bt=Bv+B1.oldText.length;if((Bt\\x3cBy)||(Bx\\x3cBv)){return false;}var Bq;if(Bv\\x3cBy){var B0=By-Bv;Bp.startChar-=B0;var Bw=B1.oldText.substring(0,B0);Bp.oldText=Bw+Bp.oldText;Bp.newText=Bw+Bp.newText;Bq=0;}else{Bq=Bv-By;}if(Bt>Bx){var Bu=Bt-Bx;var Bz=B1.oldText.substring(B1.oldText.length-Bu);Bp.oldText=Bp.oldText+Bz;Bp.newText=Bp.newText+Bz;}Bp.newText=Bp.newText.substring(0,Bq)+B1.newText+Bp.newText.substring(Bq+B1.oldText.length);return true;}var Bo,Bl;function Bm(){Bo=[{type:"bottom",ops:[]}];Bl=0;}Bm();Bn.submitEditEvent=function(Bp){if(Bp.type=="setup"||Bp.type=="importCode"||Bp.type=="setBaseText"){Bm();Bp.ops=[];}var Bs=Bp.ops;var Bq=Bo[Bo.length-1];function Br(){if(Bp.selStart){Bq.selStart=Bp.selStart;Bq.selEnd=Bp.selEnd;Bq.selFocusAtStart=Bp.selFocusAtStart;}}if(Bs.length==0){Br();}else{if(Bp.type=="undo"){Bo.push(Bp);Bl++;}else{if(Bs.length==1&&Bs[0].type=="splice"&&Bq.ops.length>0&&Bq.ops[Bq.ops.length-1].type=="splice"&&i(Bq.ops[Bq.ops.length-1],Bs[0])){Br();Bl=0;}else{Bo.push(Bp);Bl=0;}}}};Bn.performUndo=function(){var Bu=Bh.editEvent.type;Bh.startNewEvent("undo");var Bq=Bo.length-1-Bl;if(Bq>=1){var Bt=Bo[Bq];var Br=Bt.ops;for(var Bw=Br.length-1;Bw>=0;Bw--){var Bx=Br[Bw];if(Bx.type=="splice"){var Bv=Bx.startChar;var By=Bx.startChar+Bx.newText.length;if(Bv\\x3c0||By>AI.alltext.length){A7.error("Can\\\'t undo by replacing range [%d,%d]",Bv,By);}else{Ad(Bv,By,Bx.oldText);}}}Bl++;}var Bs=Bo.length-1-Bl;if(Bs\\x3c0){Bs=0;}var Bp=Bo[Bs];if(Bp.selStart){I(Bp.selStart,Bp.selEnd,Bp.selFocusAtStart);}Bh.startNewEvent(Bu);};return Bn;})();function Ab(){BH=true;if(BR){BR.never();}}var BH=false;var f=parent.editorInfo;var AQ=window.frameElement;var A5=AQ.ace_outerWin;AQ.ace_outerWin=null;var A9=AQ.nextSibling;L();var T=function(i){};var S=function(i){return true;};var F=function(){};var AI={lines:newSkipList(),selStart:null,selEnd:null,selFocusAtStart:false,alltext:"",lexer:AceLexer.getIncrementalLexer("js")};var BY,BP;var BT=true;var BQ=false;function N(i){AI.lexer=AceLexer.getIncrementalLexer(i);AI.lexer.updateBuffer(AI.alltext,0,0,AI.alltext.length);}function Am(Bl){BQ=Bl;var i="doesWrap ";if(!BP.body.className){BP.body.className="";}if(BQ){if(BP.body.className.indexOf(i)!==0){BP.body.className=i+BP.body.className;}}else{if(BP.body.className.indexOf(i)===0){BP.body.className=BP.body.className.substring(i.length);}}}function Av(Bl){BT=Bl;var i=BY.className.replace(/ ?static/,"");if(!BT){i=i+" static";a(false);}else{a(true);}BY.className=i;}function W(){Av(BT);}function AH(i){AA("importCode",function(){AB(i);});}function AB(Bm,Bl){var i;if(Bl){if(Bm.charAt(Bm.length-1)!="\\\\n"){throw new Error("new raw text must end with newline");}if(/[\\\\r\\\\t\\\\xa0]/.exec(Bm)){throw new Error("new raw text must not contain CR, tab, or nbsp");}i=Bm.substring(0,Bm.length-1).split("\\\\n");}else{i=map(Bm.split("\\\\n"),Ar);}I([0,0],[0,0]);Q(0,AI.lines.length(),i,BI(300));BR.atMost(100);Bh.selectionAffected=true;Bh.domClean=true;if(Bl&&AI.alltext!=Bm){throw new Error("mismatch error setting raw text");}}function AJ(){var Bl=AI.alltext;var i=Bl.length;if(i>0){i--;}return Bl.substring(0,i);}function Ac(){if(Bh&&!Bh.domClean){AA("exportCode",Bc);}return AJ();}function Aa(){Ai();}function m(i){S=i;}function s(i){T=i;}function p(i){F=i;}function l(){if(Bh&&!Bh.domClean){AA("getFormattedCode",AC);}var i=[];if(AI.lines.length()>0){var Bl=AI.lines.atIndex(0);while(Bl){var Bm=Bl.domInfo;i.push((Bm&&Bm.getInnerHTML())||Ae(Ba(Bl.text))||"&nbsp;");Bl=AI.lines.next(Bl);}}return\\\'\\x3cdiv class="syntax">\\x3cdiv>\\\'+i.join("\\x3c/div>\\\\n\\x3cdiv>")+"\\x3c/div>\\x3c/div>";}f.ace_focus=P;f.ace_importCode=AH;f.ace_exportCode=Ac;f.ace_editorChangedSize=Aa;f.ace_setOnKeyPress=m;f.ace_setOnKeyDown=s;f.ace_setNotifyDirty=p;f.ace_dispose=Ab;f.ace_getFormattedCode=l;f.ace_setEditable=Av;f.ace_setProperty=function(Bl,Bm){var i=Bl.toLowerCase();if(i=="wraps"){Am(Bm);}else{if(i=="lexer"){N(Bm);}}};f.ace_setBaseText=function(i){D.setBaseText(i);};f.ace_applyChangesToBase=function(Bl){var i=((typeof Bl)=="string"?Changeset.decodeFromString(Bl):Changeset(Bl));D.applyChangesToBase(i);};f.ace_prepareUserChangeset=function(i){return D.prepareUserChangeset(i);};f.ace_applyPreparedChangesetToBase=function(){D.applyPreparedChangesetToBase();};f.ace_setUserChangeNotificationCallback=function(i){D.setUserChangeNotificationCallback(i);};function Ax(){return(new Date()).getTime();}function BI(Bl){var Bn=Ax();var Bp=0;var i=false;var Bo=false;var Bm=function(){if(i){if((!Bo)){Bo=true;}return true;}var Bq=Ax()-Bn;if(Bq>Bl){i=true;return true;}else{Bp=Bq;return false;}};Bm.elapsed=function(){return Ax()-Bn;};return Bm;}function Bj(Bm){var Bl=null;var Bo=0;function Bn(){if(Bl){Aq.clearTimeout(Bl);Bl=null;}}function i(Br){Bn();Bo=Br;var Bq=Br-Ax();if(Bq\\x3c0){Bq=0;}Bl=Aq.setTimeout(Bp,Bq);}function Bp(){Bl=null;Bm();}return{atMost:function(Bq){var Br=Ax()+Bq;if((!Bl)||Bo>Br){i(Br);}},atLeast:function(Bq){var Br=Ax()+Bq;if((!Bl)||Bo\\x3cBr){i(Br);}},never:function(){Bn();}};}function Bc(){AC(function(){return true;});}var BR=Bj(function(){if(!BT){return ;}if(AR){BR.atLeast(500);return ;}AL("idleWorkTimer",function(){var Bm=BI(250);var Bn=false;var Bo=false;try{AC(Bm);if(Bm()){return ;}var Bl=A3();var i=[0,AI.lines.totalWidth()];AI.lexer.lexCharRange(Bl,Bm);if(Bm()){return ;}AI.lexer.forEachUncoloredSubrange(Bl[0],Bl[1],AG,Bm);if(Bm()){return ;}Bn=true;AI.lexer.lexCharRange(i,Bm);if(Bm()){return ;}AI.lexer.forEachUncoloredSubrange(i[0],i[1],AG,Bm);if(Bm()){return ;}Bo=true;}finally{if(Bo){BR.atMost(1000);}else{if(Bn){BR.atMost(1000);}else{var Bp=Math.round(Bm.elapsed()/2);if(Bp\\x3c100){Bp=100;}BR.atMost(Bp);}}}});});var AP=1;function Ay(Bl){var i=Bl.id;if(i){return i;}return(Bl.id="magicdomid"+(AP++));}function AG(By,Bp,Bm,i){if(Bp\\x3c=By){return ;}if(By\\x3c0||By>=AI.lines.totalWidth()){return ;}var Bo=AI.lines.atOffset(By);var Bs=AI.lines.offsetOfEntry(Bo);var Bx=AI.lines.indexOfEntry(Bo);var Bn=false;var Bv=null;var Bw=null;var Bl=false;Bm=(Bm||G);var Bu;var Br=function(Bz,B0){Bo.domInfo.appendSpan(Bz,B0);};if(i){var Bt=Br;Br=function(Bz,B0){i(Bz,B0,Bt,Bu);Bu+=Bz.length;};}while(Bo&&Bs\\x3cBp&&!Bm()){var Bq=Bs+Bo.width;if(Bo.text.length==0){A8(Bo,G,Bs);}else{Bu=Bs;Bo.domInfo.clearSpans();A8(Bo,Br,Bs);Bo.domInfo.finishUpdate();}Bl=true;Ap(Bo.lineNode);if(AI.selStart&&AI.selStart[0]==Bx||AI.selEnd&&AI.selEnd[0]==Bx){Bn=true;}if(Bv===null){Bv=Bx;}Bw=Bx;Bs=Bq;Bo=AI.lines.next(Bo);Bx++;}if(Bn){Bh.selectionAffected=true;}return Bl;}function A8(Bm,Bl,Bq){var i=Bq;if((typeof i)!="number"){i=AI.lines.offsetOfEntry(Bm);}var Bp=Bm.text;var Bn=Bm.width;if(Bp.length>0){var Bo=0;AI.lexer.getSpansForRange(i,i+Bp.length,function(Br,Bs){Bl(Bp.substring(Bo,Bo+Br),Bs);Bo+=Br;});}AI.lexer.getSpansForRange(i+Bp.length,i+Bn,G);}function A1(Bl){var i;AI.lexer.getSpansForRange(Bl,Bl+1,function(Bn,Bm){i=Bm;},true);return i;}var Be;function z(){Be={cleanNodesNearChanges:{}};}z();function BX(i){var Bl=X("getCleanNodeByKey",false);Bl.extra=0;var Bm=BP.getElementById(i);while(Bm&&Bk(Bm)){Bl.extra++;Bm.id="";Bm=BP.getElementById(i);}Bl.literal(Bl.extra,"extra");Bl.end();return Bm;}function AW(Bp){var Bl;var Bu;if(!Bk(Bp)){Bl=Bp;var Br=Bl.previousSibling;var Bm=Bl.nextSibling;Bu=((Br&&Bk(Br))||(Bm&&Bk(Bm)));}else{var Bv=Bp.previousSibling;while(Bv&&Bk(Bv)){Bv=Bv.previousSibling;}if(Bv){Bl=Bv;}else{var Bw=Bp.nextSibling;while(Bw&&Bk(Bw)){Bw=Bw.nextSibling;}if(Bw){Bl=Bw;}}if(!Bl){return ;}Bu=true;}if(Bu){Be.cleanNodesNearChanges["$"+Ay(Bl)]=true;}else{var Bx=Ay(Bl);var Br=Bl.previousSibling;var Bm=Bl.nextSibling;var Bt=((Br&&Ay(Br))||null);var Bq=((Bm&&Ay(Bm))||null);var Bn=AI.lines.prev(AI.lines.atKey(Bx));var Bs=AI.lines.next(AI.lines.atKey(Bx));var Bo=((Bn&&Bn.key)||null);var i=((Bs&&Bs.key)||null);if(Bt!=Bo||Bq!=i){Be.cleanNodesNearChanges["$"+Ay(Bl)]=true;}}}function U(){if(Bh.observedSelection){return ;}Bh.observedSelection=true;var Bo=X("getSelection",false);var Bn=Au();Bo.end();if(Bn){function i(Bp){if((!Bp)||Bp==BY){return null;}while(Bp.parentNode!=BY){Bp=Bp.parentNode;}return Bp;}var Bm=i(Bn.startPoint.node);var Bl=i(Bn.endPoint.node);if(Bm){AW(Bm);}if(Bl&&Bm!=Bl){AW(Bl);}}}function AC(Bp){AR=false;Bh.isUserChange=true;Bp=(Bp||function(){return false;});if(M&&top.DONT_INCORP){return ;}var Bz=X("incorp",false);Bz.mark("obs");U();Bz.mark("dirty");var B6=BE();z();Bz.mark("getsel");var CD=Au();var B1,Bl;var B7=0;var Br=[];var B0=0;var Bt=[];Bz.mark("ranges");Bz.literal(B6.length,"numdirt");var Bo=[];while(B7\\x3cB6.length){var Bw=B6[B7];var CA=Bw[0];var B8=Bw[1];var Bs=(((CA==0)&&BY.firstChild)||BX(AI.lines.atIndex(CA-1).key).nextSibling);Bs=(Bs&&Bk(Bs)&&Bs);var CB=(((B8==AI.lines.length())&&BY.lastChild)||BX(AI.lines.atIndex(B8).key).previousSibling);CB=(CB&&Bk(CB)&&CB);if(Bs&&CB){var Bx=q();Bx.notifySelection(CD);var B4=[];for(var B3=Bs;B3&&!(B3.previousSibling&&B3.previousSibling==CB);B3=B3.nextSibling){Bx.collectContent(B3);B4.push(B3);}Bx.notifyNextNode(CB.nextSibling);var Bn=Bx.getLines();if(Bn.length\\x3c=1||Bn[Bn.length-1]!==""){B8++;var B9=CB.nextSibling;Bx.collectContent(B9);Bt.push(B9);Bx.notifyNextNode(B9.nextSibling);Bn=Bx.getLines();}Bn.splice(Bn.length-1,1);var B5=Bx.getSelectionStart(),CC=Bx.getSelectionEnd();function By(){var CL=2000;var CE=10;var CG=0;var CJ=0;for(var CH=Bn.length-1;CH>=0;CH--){var CF=Bn[CH];if(CF.length>CL+CE){var CI=[];while(CF.length>CL){lengthToTake=CL;CI.push(CF.substring(0,lengthToTake));CF=CF.substring(lengthToTake);}if(CF.length>0){CI.push(CF);}function CK(CM){if(CM[0]\\x3c0){return ;}var CO=CM[0];var CN=CM[1];if(CO>CH){CO+=(CI.length-1);}else{if(CO==CH){var i=0;while(CN>CI[i].length){CN-=CI[i].length;i++;}CO+=i;}}CM[0]=CO;CM[1]=CN;}CK(B5);CK(CC);CG++;CJ+=CI.length;CI.unshift(CH,1);Bn.splice.apply(Bn,CI);}}if(CG>0){AM("Editor warning: "+CG+" long line"+(CG==1?" was":"s were")+" hard-wrapped into "+CJ+" lines.");}}By();if(B5[0]>=0){B1=[B5[0]+CA+B0,B5[1]];}if(CC[0]>=0){Bl=[CC[0]+CA+B0,CC[1]];}var Bv=[];var Bu=CB;var B2=map(Bn,function(CE){var i=e(CE);Bv.push(i);return i.domInfo;});Bo.push([Bu,B2]);forEach(B4,function(i){Bt.push(i);});Br.push([CA+B0,B8-CA,Bv]);B0+=(Bn.length-(B8-CA));}else{if(B8>CA){Br.push([CA+B0,B8-CA,[]]);}}B7++;}var Bq=(Br.length>0);Bz.mark("splice");forEach(Br,function(i){v(i[0],i[1],i[2]);});Bz.mark("insert");forEach(Bo,function(i){H(i[0],i[1],Bp);});Bz.mark("del");forEach(Bt,function(i){BY.removeChild(i);});Bz.mark("findsel");if(CD&&!B1){B1=R(CD.startPoint);}if(CD&&!Bl){Bl=R(CD.endPoint);}var Bm=AI.lines.length();if(B1&&B1[0]>=Bm){B1[0]=Bm-1;B1[1]=AI.lines.atIndex(B1[0]).text.length;}if(Bl&&Bl[0]>=Bm){Bl[0]=Bm-1;Bl[1]=AI.lines.atIndex(Bl[0]).text.length;}Bz.mark("repsel");BZ(B1,Bl,CD&&CD.focusAtStart);Bz.mark("browsel");if(CD&&(Bq||Bb())){Bh.selectionAffected=true;}Bh.domClean=true;Bz.mark("fixview");Ai();Bz.end("END");return Bq;}function H(i,Bo,Bl){Bl=(Bl||function(){return false;});var Br;var Bn;if(Bo.length\\x3c1){return ;}var Bm=AI.lines.atKey(Ay(Bo[0].node));var Bq=AI.lines.atKey(Ay(Bo[Bo.length-1].node));var Bp=AI.lines.offsetOfEntry(Bm);var Bs=AI.lines.offsetOfEntry(Bq)+Bq.width;AI.lexer.lexCharRange([Bp,Bs],Bl);forEach(Bo,function(By){var Bx=X("insertLine",false);var Bw=By.node;var Bt=Ay(Bw);var Bv;Bx.mark("findEntry");if(Br){var Bu=AI.lines.next(Br);if(Bu&&Bu.key==Bt){Bv=Bu;Bn+=Br.width;}}if(!Bv){Bx.literal(1,"nonopt");Bv=AI.lines.atKey(Bt);Bn=AI.lines.offsetOfKey(Bt);}else{Bx.literal(0,"nonopt");}Br=Bv;Bx.mark("spans");if(!Bl()){A8(Bv,function(Bz,B0){By.appendSpan(Bz,B0);},Bn);}else{if(Bv.text.length>0){By.appendSpan(Bv.text,"dirty");}}Bx.mark("addLine");By.prepareForAdd();if(!i){BY.insertBefore(Bw,BY.firstChild);}else{BY.insertBefore(Bw,i.nextSibling);}i=Bw;By.notifyAdded();Bx.mark("markClean");Ap(Bw);Bx.end();});}function Bb(){return(AI.selStart&&AI.selEnd&&AI.selStart[0]==AI.selEnd[0]&&AI.selStart[1]==AI.selEnd[1]);}function J(){return AI.selStart[0];}function BW(){return AI.selStart[1];}function AF(){return AI.lines.offsetOfIndex(J())+BW();}function An(){if(Bb()&&BW()==0&&J()>0){var Bp=J();var Bq=AI.lines.atIndex(Bp);var Bn=AI.lines.prev(Bq);var Bo=Bn.text;var i=/^ *(?:)/.exec(Bo)[0];if(/[[({]\\\\s*$/.exec(Bo)){i+=Aj;}/[)]]]/;var Bl=Bq.lineNode;var Bm=i+Bq.text;Q(Bp,1,[Bm]);I([Bp,i.length],[Bp,i.length]);}}function d(Bn){var Bm=AI.lines.atIndex(Bn).lineNode;var i=Bm.firstChild;var Bl;if(isNodeText(i)){i.nodeValue=" "+i.nodeValue;Bl=i;}else{Bl=BP.createTextNode(" ");Bm.insertBefore(Bl,Bm.firstChild);}Ap(Bm);return{unhack:function(){if(Bl.nodeValue==" "){Bl.parentNode.removeChild(Bl);}else{Bl.nodeValue=Bl.nodeValue.substring(1);}Ap(Bm);}};}function E(Bo){var Bl=Bo[0];var Bm=Bo[1];var Bq=AI.lines.atIndex(Bl).lineNode;var Br=Bq;var Bp=false;if(Bm==0){var Bn=0;if(browser.msie&&Bl==(AI.lines.length()-1)&&Bq.childNodes.length==0){Bn=1;}return{node:Bq,index:Bn,maxIndex:1};}while(!(Br==Bq&&Bp)){if(Bp){if(Br.nextSibling){Br=Br.nextSibling;Bp=false;}else{Br=Br.parentNode;}}else{if(isNodeText(Br)){var i=Br.nodeValue.length;if(Bm\\x3c=i){return{node:Br,index:Bm,maxIndex:i};}Bm-=i;Bp=true;}else{if(Br.firstChild){Br=Br.firstChild;}else{Bp=true;}}}}return{node:Bq,index:1,maxIndex:1};}function Ao(i){return i.innerText||i.textContent||i.nodeValue||"";}function R(i){if(i.node==BY){if(i.index==0){return[0,0];}else{var Bp=AI.lines.length();return[Bp-1,AI.lines.atIndex(Bp-1).text.length];}}else{var Bq=i.node;var Bl=0;if(isNodeText(Bq)){Bl=i.index;}else{if(i.index>0){Bl=Ao(Bq).length;}}var Bn,Bm;while((Bn=Bq.parentNode)!=BY){if((Bm=Bq.previousSibling)){Bq=Bm;Bl+=Ao(Bq).length;}else{Bq=Bn;}}if(Bq.id==""){A7.debug("BAD");}var Bo=AI.lines.indexOfKey(Bq.id);return[Bo,Bl];}}function e(Bm){var Bl=V(Bm.length>0);var i=Bl.node;return{key:Ay(i),text:Bm,lineNode:i,domInfo:Bl};}function Q(Bt,Bp,Bs,Bn){Bn=(Bn||function(){return false;});var Bl=[];if(Bp>0){var Bo=AI.lines.atIndex(Bt);for(var Br=0;Br\\x3cBp;Br++){Bl.push(Bo.key);Bo=AI.lines.next(Bo);}}var Bq=map(Bs,e);v(Bt,Bp,Bq);var Bm;if(Bt>0){Bm=BX(AI.lines.atIndex(Bt-1).key);}else{Bm=null;}H(Bm,map(Bq,function(i){return i.domInfo;}),Bn);forEach(Bl,function(i){var Bu=BP.getElementById(i);Bu.parentNode.removeChild(Bu);});}function BJ(Bn){if(Bn.oldLen()!=AI.alltext.length){throw new Error("docApplyChangeset length mismatch: "+Bn.oldLen()+"/"+AI.alltext.length);}var Bq=null;if(AI.selStart&&AI.selEnd){var Bp=AI.lines.offsetOfIndex(AI.selStart[0])+AI.selStart[1];var Bl=AI.lines.offsetOfIndex(AI.selEnd[0])+AI.selEnd[1];var i=x(Bp,Bl,Bn);Bq=[i[0],i[1],AI.focusAtStart];}var Bo=A(Bn);var Bm=0;forEach(Bo,function(Br){Ad(Br[0]+Bm,Br[1]+Bm,Br[2]);Bm+=Br[2].length-(Br[1]-Br[0]);});if(Bq){I(c(Bq[0]),c(Bq[1]),Bq[2]);}}function x(Bp,i,Bq){var Bo=Changeset(Bq.oldLen()).builder().appendOldText(0,Bp).appendNewText("X").appendOldText(i,Bq.oldLen()-i).toChangeset();var Bl=Bo.follow(Bq);var Bn=A(Bl);function Bm(Br){if(!Bm.calledYet){Bp=Br;i=Br;Bm.calledYet=true;}else{if(Br\\x3cBp){Bp=Br;}if(Br>i){i=Br;}}}forEach(Bn,function(Br){Bm(Br[0]);Bm(Br[1]);});return[Bp,i];}function A(Br){var Bp=[];var Bm=Br.traverser();var Bo=Br.oldLen();var Bl=0;while(Bm.hasMore()||Bl\\x3cBo){var Bn="";var i=Bl;var Bq=Bl;if(Bm.numNewChars()>0){Bn=Bm.consumeAvailableNewChars();}if(Bm.hasMore()){Bq=Bm.takenCharsStart();Bl=Bq+Bm.numTakenChars();Bm.consumeAvailableTakenChars();}else{Bq=Bo;Bl=Bq;}if(Bq!=i||Bn.length>0){Bp.push([i,Bq,Bn]);}}return Bp;}function c(i){var Bl=AI.lines.atOffset(i);var Bm=AI.lines.offsetOfEntry(Bl);var Bn=AI.lines.indexOfEntry(Bl);return[Bn,i-Bm];}function Ad(i,Bm,Bl){if(i==Bm&&Bl.length==0){return ;}if(Bm==AI.alltext.length){if(i==Bm){i--;Bm--;Bl="\\\\n"+Bl.substring(0,Bl.length-1);}else{if(Bl.length==0){i--;Bm--;}else{Bm--;Bl=Bl.substring(0,Bl.length-1);}}}g(c(i),c(Bm),Bl);}function g(i,Bn,Bo){var Bp=AI.lines.atIndex(i[0]).text.substring(0,i[1]);var Bq=AI.lines.atIndex(Bn[0]).text.substring(Bn[1]);var Bm=Bo.split("\\\\n");var Bs=Bm[Bm.length-1].length;Bm[0]=Bp+Bm[0];if(Bm.length==1){Bs+=Bp.length;}Bm[Bm.length-1]=Bm[Bm.length-1]+Bq;var Br=i[0];Q(Br,Bn[0]-i[0]+1,Bm);var Bl=Br+Bm.length-1;I([Bl,Bs],[Bl,Bs]);}function AS(i){if(!(AI.selStart&&AI.selEnd)){return ;}g(AI.selStart,AI.selEnd,i);}function v(Bx,B1,Bq){if(AI.selStart&&AI.selEnd){var Bp=[AI.selStart[0],AI.selStart[1]];var Bl=[AI.selEnd[0],AI.selEnd[1]];if(Bp&&Bp[0]>=Bx){if((Bp[0]-Bx)\\x3cB1){Bp=[Bx,0];}else{Bp[0]=Bp[0]-B1+Bq.length;}}if(Bl&&Bl[0]>=Bx){if((Bl[0]-Bx)\\x3cB1){Bl=[Bx,0];}else{Bl[0]=Bl[0]-B1+Bq.length;}}I(Bp,Bl);}forEach(Bq,function(B3){B3.width=B3.text.length+1;});var Bz=AI.lines.offsetOfIndex(Bx);var i=AI.lines.offsetOfIndex(Bx+B1);var Bw=AI.lines.offsetOfIndex(Bx);var Bu=AI.lines.offsetOfIndex(Bx+B1);AI.lines.splice(Bx,B1,Bq);Bh.docTextChanged=true;Bh.repChanged=true;var Br=AI.lines.offsetOfIndex(Bx+Bq.length);var B2=map(Bq,function(B3){return B3.text+"\\\\n";}).join("");var Bt=AI.alltext.substring(Bz,i);var Bo=AZ(Bt,B2);var Bv=Bo[0];var By=Bo[1];var Bs=Bt.substring(Bv,Bt.length-By);var B0=B2.substring(Bv,B2.length-By);if(!(Bs.length==0&&B0.length==0)){var Bm=Bz+Bv;var Bn=AI.alltext.length;AI.alltext=AI.alltext.substring(0,Bm)+B0+AI.alltext.substring(i-By,AI.alltext.length);Bh.editEvent.ops.push({type:"splice",startChar:Bm,oldText:Bs,newText:B0});if(D.isTracking()){D.composeUserChangeset(Changeset.makeSplice(Bn,Bm,Bs.length,B0));}}AI.lexer.updateBuffer(AI.alltext,Bw,Bu-Bw,Br-Bw);}function AZ(i,Bp){var Bm=i.length;var Bn=Bp.length;var Bl=(Bm\\x3cBn?Bm:Bn);var Bq=binarySearch(Bl,function(Br){return i.substring(0,Br+1)!=Bp.substring(0,Br+1);});var Bo=binarySearch(Bl-Bq,function(Br){return i.substring(Bm-Br-1)!=Bp.substring(Bn-Br-1);});return[Bq,Bo];}function y(Bl,i){if(!Bl){return !i;}if(!i){return !Bl;}return(Bl[0]==i[0]&&Bl[1]==i[1]);}function I(Bm,i,Bl){if(BZ(Bm,i,Bl)){Bh.selectionAffected=true;}}function BZ(Bn,Bl,Bm){Bm=!!Bm;var i=(Bm&&((!Bn)||(!Bl)||(Bn[0]!=Bl[0])||(Bn[1]!=Bl[1])));if((!y(AI.selStart,Bn))||(!y(AI.selEnd,Bl))||(AI.selFocusAtStart!=i)){AI.selStart=Bn;AI.selEnd=Bl;AI.selFocusAtStart=i;if(mozillaFakeArrows){mozillaFakeArrows.notifySelectionChanged();}Bh.repChanged=true;return true;}return false;}function Ba(Bl){var i=/[&\\x3c>\\\'"]/g;/\\\']/;if(!i.MAP){i.MAP={"&":"&amp;","\\x3c":"&lt;",">":"&gt;",\\\'"\\\':"&#34;","\\\'":"&#39;"};}return Bl.replace(i,function(Bm){return i.MAP[Bm];});}function Ae(Bo){if(Bo.indexOf("\\x3c")\\x3c0&&!BQ){return Bo.replace(/ /g,"&nbsp;");}var Bq=[];Bo.replace(/\\x3c[^>]*>?| |[^ \\x3c]+/g,function(i){Bq.push(i);});if(BQ){var Bl=true;var Bn=false;for(var Bm=Bq.length-1;Bm>=0;Bm--){var Bp=Bq[Bm];if(Bp==" "){if(Bl||Bn){Bq[Bm]="&nbsp;";}Bl=false;Bn=true;}else{if(Bp.charAt(0)!="\\x3c"){Bl=false;Bn=false;}}}for(var Bm=0;Bm\\x3cBq.length;Bm++){var Bp=Bq[Bm];if(Bp==" "){Bq[Bm]="&nbsp;";break;}else{if(Bp.charAt(0)!="\\x3c"){break;}}}}else{for(var Bm=0;Bm\\x3cBq.length;Bm++){var Bp=Bq[Bm];if(Bp==" "){Bq[Bm]="&nbsp;";}}}return Bq.join("");}function V(Bm){var Bl={node:null,appendSpan:G,prepareForAdd:G,notifyAdded:G,clearSpans:G,finishUpdate:G};var Br=BP.createElement("div");Bl.node=Br;if(browser.msie&&(!Bm)){Bl.notifyAdded=function(){Br.innerHTML="";setAssoc(Br,"shouldBeEmpty",true);setAssoc(Br,"unpasted",{});};Bl.getInnerHTML=function(){return"";};}else{var Bp=[];var i=null;var Bq=(BQ?r:Ae);var Bo=(BQ?Ae:r);Bl.appendSpan=function(Bs,Bt){Bp.push(\\\'\\x3ctt class="\\\',Bt||"",\\\'">\\\',Bq(Ba(Bs)),"\\x3c/tt>");};Bl.clearSpans=function(){Bp=[];};function Bn(){var Bs=Bo(Bp.join(""));Bp=null;if(!browser.msie){Bs+="\\x3cbr/>";}if(Bs!==i){i=Bs;Br.innerHTML=i;}}Bl.prepareForAdd=Bn;Bl.finishUpdate=Bn;Bl.getInnerHTML=function(){return i||"";};}return Bl;}function Ar(i){return i.replace(/[\\\\n\\\\r ]/g," ").replace(/\\\\xa0/g," ").replace(/\\\\t/g,"        ");}var t={div:1,p:1,pre:1,li:1};function Bg(i){return !!t[(i.tagName||"").toLowerCase()];}function q(){var Bw=[""];var Bm={};function Bq(){if(Bw[Bw.length-1]!==""){Bw.push("");}}var Bv,i,Bu;var Bl=[-1,-1],Bt=[-1,-1];var Bp={div:1,p:1,pre:1};function Bs(Bx){if(Bx.childNodes.length==0){return true;}if(Bx.childNodes.length==1&&getAssoc(Bx,"shouldBeEmpty")&&Bx.innerHTML=="&nbsp;"&&!getAssoc(Bx,"unpasted")){var By=Bx.firstChild;Br(By,0);Br(By,1);return true;}return false;}function Bo(Bz){var By=Bw.length-1;var Bx=Bw[By].length;Bx+=(Bz||0);return[By,Bx];}function Bn(By,Bx){if(!isNodeText(By)){Br(By,Bx);}}function Br(By,Bx){if(i&&By==i.node&&i.index==Bx){Bl=Bo();}if(Bu&&By==Bu.node&&Bu.index==Bx){Bt=Bo();}}Bm.notifySelection=function(Bx){if(Bx){Bv=Bx;i=Bv.startPoint;Bu=Bv.endPoint;}};Bm.collectContent=function(Bz,B5){var B0=Bg(Bz);var B2=Bs(Bz);if(B0){Bq();}var B9=Bw.length-1;Bn(Bz,0);if(isNodeText(Bz)){var B3=Bz.nodeValue;var Bx="";var B7=0;if(B3.length==0){if(i&&Bz==i.node){Bl=Bo();}if(Bu&&Bz==Bu.node){Bt=Bo();}}while(B3.length>0){var B8=0;if(B5){var B6=B3.split("\\\\n",1)[0];B8=B6.length+1;Bx=B3.substring(B8);B3=B6;}else{}if(i&&Bz==i.node&&i.index-B7\\x3c=B3.length){Bl=Bo(i.index-B7);}if(Bu&&Bz==Bu.node&&Bu.index-B7\\x3c=B3.length){Bt=Bo(Bu.index-B7);}var B1=B3;if((!B5)&&/^[\\\\r\\\\n]*$/.exec(B3)){B1="";}Bw[Bw.length-1]+=Ar(B1);B7+=B8;B3=Bx;if(B3.length>0){Bw.push("");}}}else{var CA=(Bz.tagName||"").toLowerCase();if(CA=="br"){Bw.push("");}else{if(CA=="script"){}else{if(!B2){var B4=Bz.firstChild;while(B4){var By=(CA=="pre");Bm.collectContent(B4,By);B4=B4.nextSibling;}}}}}if(!browser.msie){Bn(Bz,1);}if(B0){if(Bw.length-1==B9){Bw.push("");}else{Bq();}}if(browser.msie){Bn(Bz,1);}};Bm.notifyNextNode=function(Bx){if((!Bx)||(Bg(Bx)&&!Bs(Bx))){Bq();}};Bm.getSelectionStart=function(){return Bl;};Bm.getSelectionEnd=function(){return Bt;};Bm.getLines=function(){return Bw;};return Bm;}function BE(){var Bu=X("getDirtyRanges",false);Bu.forIndices=0;Bu.consecutives=0;Bu.corrections=0;var i={};var Bp=AI.lines.length();function Bn(B4){if(i[B4]===undefined){Bu.forIndices++;var B2;if(B4\\x3c0||B4>=Bp){B2=true;}else{var B3=AI.lines.atIndex(B4).key;B2=(BX(B3)||false);}i[B4]=B2;}return i[B4];}var Bo={};function Bs(B2){if(Bo[B2]===undefined){Bu.consecutives++;Bo[B2]=(function(){var B4=Bn(B2-1);var B3=Bn(B2);if((!B4)||(!B3)){return false;}if((B4===true)&&(B3===true)){return !BY.firstChild;}if((B4===true)&&B3.previousSibling){return false;}if((B3===true)&&B4.nextSibling){return false;}if((B4===true)||(B3===true)){return true;}return B4.nextSibling==B3;})();}return Bo[B2];}function Bz(B2){return !!Bn(B2);}var By=[[-1,Bp+1]];function Bq(B2){var B3=-1;forEach(By,function(B5,B4){if(B2>=B5[1]){return false;}if(B2\\x3cB5[0]){return true;}B3=B4;return true;});return B3;}function Bm(B5,B4){var B3=By[B5][0];var B2=By[B5][1];if((B3+1)==B2){By.splice(B5,1);}else{if(B4==B3){By[B5][0]++;}else{if(B4==(B2-1)){By[B5][1]--;}else{By.splice(B5,1,[B3,B4],[B4+1,B2]);}}}}function Bl(B4,B5){var B3=By[B4][0];var B2=By[B4][1];By.splice(B4,1,[B3,B5],[B5,B2]);}var Bv={};function Bw(B5){if(Bv[B5]){return true;}Bu.corrections++;Bv[B5]=true;var B4=Bq(B5);var B7=Bz(B5);if(B4\\x3c0){if(B7){A7.debug("somehow lost clean line");}return true;}if(!B7){Bm(B4,B5);return false;}else{var B3=By[B4][0];var B2=By[B4][1];var B6=false;if(B3\\x3cB5&&Bz(B5-1)&&!Bs(B5)){Bl(B4,B5);B6=true;}if(B2>(B5+1)&&Bz(B5+1)&&!Bs(B5+1)){Bl(B4,B5+1);B6=true;}return !B6;}}function B1(B3,B5){var B4=0;var B2=B3;while(B4\\x3cB5&&B2>=0){if(Bw(B2)){B4++;}else{B4=0;}B2--;}B4=0;B2=B3;while(B4\\x3cB5&&B2\\x3cBp){if(Bw(B2)){B4++;}else{B4=0;}B2++;}}if(Bp==0){Bu.cancel();if(!Bs(0)){Bl(0,0);}}else{Bu.mark("topbot");B1(0,1);B1(Bp-1,1);Bu.mark("obs");for(k in Be.cleanNodesNearChanges){var B0=k.substring(1);if(AI.lines.containsKey(B0)){var Br=AI.lines.indexOfKey(B0);B1(Br,2);}}Bu.mark("stats&calc");Bu.literal(Bu.forIndices,"byidx");Bu.literal(Bu.consecutives,"cons");Bu.literal(Bu.corrections,"corr");}var Bx=[];for(var Bt=0;Bt\\x3cBy.length-1;Bt++){Bx.push([By[Bt][1],By[Bt+1][0]]);}Bu.end();return Bx;}function Ap(Bl){var i={};i.nodeId=Ay(Bl);i.knownHTML=Bl.innerHTML;if(browser.msie){i.knownText=Bl.innerText;}setAssoc(Bl,"dirtiness",i);}function Bk(Bm){var Bl=X("cleanCheck",false);if(Bm.parentNode!=BY){return true;}var i=getAssoc(Bm,"dirtiness");if(!i){return true;}if(Bm.id!==i.nodeId){return true;}if(browser.msie){if(Bm.innerText!==i.knownText){return true;}}if(Bm.innerHTML!==i.knownHTML){return true;}Bl.end();return false;}function o(Bl){var Bn=Bl.lineNode;var Bm=Bn.offsetTop;var i=Bn.offsetHeight;return{top:Bm,bottom:(Bm+i)};}function AY(){var Bl=Ag();var Bm=A5.document;var i=Bm.documentElement.clientHeight;return{top:Bl,bottom:(Bl+i)};}function u(){var i=AY();var Bm=AI.lines.search(function(Bn){return o(Bn).bottom>i.top;});var Bl=AI.lines.search(function(Bn){return o(Bn).top>=i.bottom;});if(Bl\\x3cBm){Bl=Bm;}return[Bm,Bl];}function A3(){var i=u();return[AI.lines.offsetOfIndex(i[0]),AI.lines.offsetOfIndex(i[1])];}function Bi(i){AL("handleClick",function(){BR.atMost(200);});}function Z(Bq){if(M&&top.DONT_INCORP){return ;}if(!BT){return ;}var Bp=Bq.type;var Bu=Bq.charCode;var Bv=Bq.keyCode;var Bt="";if(Bq.altKey){Bt=Bt+"A";}if(Bq.ctrlKey){Bt=Bt+"C";}if(Bq.shiftKey){Bt=Bt+"S";}if(Bq.metaKey){Bt=Bt+"M";}var Bn="";if(Bt){Bn=Bt+"-";}var Bm=Bq.which;var Bl=((!Bu)&&((Bp=="keyup")||(Bp=="keydown"))&&(Bv==16||Bv==17||Bv==18||Bv==20||Bv==224||Bv==91));if(Bl){return ;}var Bs=false;var Bo=((browser.msie||browser.safari)?(Bp=="keydown"):(Bp=="keypress"));var Br=(browser.msie?(Bp=="keydown"):(Bp=="keypress"));var i=false;AL("handleKeyEvent",function(){if(Bp=="keypress"||(Bo&&Bv==13)){if(!S(Bq)){Bq.preventDefault();i=true;}}else{if(Bp=="keydown"){T(Bq);}}if(!i){if(Bo&&Bv==8){Bc();if(AI.selStart){if(Bb()){var B1=J();var Bx=BW();var B4=AI.lines.atIndex(B1).text;if(/^ +$/.exec(B4.substring(0,Bx))){var B2=Aj.length;var B0=((Bx-1)%B2)+1;g([B1,Bx-B0],[B1,Bx],"");Bs=true;}}if(!Bs){if(Bb()){var Bw=AF();if(Bw>0){if(Bq.metaKey||Bq.ctrlKey||Bq.altKey){var B3=/[\\\\u0030-\\\\u0039\\\\u0041-\\\\u005A\\\\u0061-\\\\u007A\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u00FF\\\\u0100-\\\\u1FFF\\\\u3040-\\\\u9FFF\\\\uF900-\\\\uFDFF\\\\uFE70-\\\\uFEFE\\\\uFF10-\\\\uFF19\\\\uFF21-\\\\uFF3A\\\\uFF41-\\\\uFF5A\\\\uFF66-\\\\uFFDC]/;var Bz=Bw-1;while(Bz>0&&B3.exec(AI.alltext.charAt(Bz-1))){Bz--;}Ad(Bz,Bw,"");}else{Ad(Bw-1,Bw,"");}}}else{AS("");}Bs=true;}}Bq.preventDefault();}if((!Bs)&&Bo&&Bv==13){Bc();Bq.preventDefault();AS("\\\\n");An();Aq.setTimeout(function(){A5.scrollBy(-100,0);},0);Bs=true;}if((!Bs)&&Bo&&Bv==9){Bc();Bq.preventDefault();AS(Aj);Bs=true;}if((!Bs)&&Br&&String.fromCharCode(Bm).toLowerCase()=="z"&&(Bq.metaKey||Bq.ctrlKey)){Bc();Bq.preventDefault();Az.performUndo();Bs=true;}if(!Bs){U();}if(mozillaFakeArrows&&mozillaFakeArrows.handleKeyEvent(Bq)){Bq.preventDefault();}}if(Bp=="keydown"){BR.atLeast(500);}else{if(Bp=="keypress"){if((!Bs)&&B.shouldNormalizeOnChar(Bu)){BR.atMost(0);}else{BR.atLeast(500);}}else{if(Bp=="keyup"){BR.atLeast(200);BR.atMost(200);}}}var B5=(browser.mozilla&&Bq.altKey&&Bu==0&&Bv==0);var By=(browser.safari&&Bq.altKey&&Bv==229);if(BU||B5||By){BR.atLeast(3000);BU=true;}if(Bp=="keyup"){BU=false;}});}var BU=false;function O(){var Bp=AI.selStart,i=AI.selEnd;if(!(Bp&&i)){AN(null);return ;}var Bo=(browser.mozilla&&Bp&&i&&Bp[0]==i[0]&&Bp[1]==0&&i[1]==0&&d(Bp[0]));var Bm={};var Bl=[Bp[0],Bp[1]];if(Bo){Bl[1]=1;}Bm.startPoint=E(Bl);var Bn=[i[0],i[1]];if(Bo){Bn[1]=1;}Bm.endPoint=E(Bn);Bm.focusAtStart=!!AI.selFocusAtStart;AN(Bm);if(Bo){Bo.unhack();}}function K(){return map(AI.lines.slice(),function(Bl){var Bm=Bl.text;var i;if(Bm.length==0){i=\\\'\\x3cspan style="color: #aaa">--\\x3c/span>\\\';}else{i=htmlPrettyEscape(Bm);}return"\\x3cdiv>\\x3ccode>"+i+"\\x3c/div>\\x3c/code>";}).join("");}function BS(i){if(isNodeText(i)){return i.nodeValue.length;}else{return 1;}}function Au(){if(browser.msie){var Bp;try{Bp=BP.selection;}catch(Bt){}if(!Bp){return null;}var Bw;try{Bw=Bp.createRange();}catch(Bt){}if(!Bw){return null;}var Bn=Bw.parentElement();if(Bn.ownerDocument!=BP){return null;}function Bu(){return BP.body.createTextRange();}function Bo(Bz){var By=Bu();By.moveToElementText(Bz);return By;}function Bq(B1){var B2=B1.parentElement();var B0=-1;var CD=B2.childNodes.length;var B8=Bo(B2);if(B1.compareEndPoints("StartToStart",B8)==0){return{node:B2,index:0,maxIndex:1};}else{if(B1.compareEndPoints("EndToEnd",B8)==0){if(Bg(B2)&&B2.nextSibling){return{node:B2.nextSibling,index:0,maxIndex:1};}return{node:B2,index:1,maxIndex:1};}else{if(B2.childNodes.length==0){return{node:B2,index:0,maxIndex:1};}}}for(var B7=0;B7\\x3cB2.childNodes.length;B7++){var B3=B2.childNodes.item(B7);if(!isNodeText(B3)){var B4=Bo(B3);var B6=B1.compareEndPoints("StartToStart",B4);var CA=B1.compareEndPoints("EndToEnd",B4);if(B6>=0&&CA\\x3c=0){var B9=0;if(B6>0){B9=1;}return{node:B3,index:B9,maxIndex:1};}else{if(CA>0){if(B7>B0){B0=B7;B8.setEndPoint("StartToEnd",B4);}}else{if(B6\\x3c0){if(B7\\x3cCD){CD=B7;B8.setEndPoint("EndToStart",B4);}}}}}}if((CD-B0)==1){if(B0>=0){return{node:B2.childNodes.item(B0),index:1,maxIndex:1};}else{return{node:B2.childNodes.item(CD),index:0,maxIndex:1};}}var CB=0;var Bz=B1.duplicate();var CE=binarySearchInfinite(40,function(CF){var CH=CF-CB;var CG=Math.abs(Bz.move("character",-CH));if(CH\\x3c0){CB-=CG;}else{CB+=CG;}return(Bz.compareEndPoints("StartToStart",B8)\\x3c=0);});var B5=B0+1;var By=CE;while(B5\\x3cCD){var CC=B2.childNodes.item(B5);if(By\\x3c=CC.nodeValue.length){return{node:CC,index:By,maxIndex:CC.nodeValue.length};}By-=CC.nodeValue.length;B5++;}var CC=B2.childNodes.item(B5-1);return{node:CC,index:CC.nodeValue.length,maxIndex:CC.nodeValue.length};}var Bv={};if(Bw.compareEndPoints("StartToEnd",Bw)==0){var i=Bq(Bw);Bv.startPoint=i;Bv.endPoint={node:i.node,index:i.index,maxIndex:i.maxIndex};}else{var Bm=Bw.duplicate();Bm.collapse(true);var Br=Bw.duplicate();Br.collapse(false);Bv.startPoint=Bq(Bm);Bv.endPoint=Bq(Br);}return Bv;}else{var Bp=window.getSelection();if(Bp&&Bp.type!="None"&&Bp.rangeCount!==0){var Bs=Bp.getRangeAt(0);function Bl(By){while(By&&!(By.tagName&&By.tagName.toLowerCase()=="body")){By=By.parentNode;}return !!By;}function Bx(Bz,B2){if(!Bl(Bz)){return{node:BY,index:0,maxIndex:1};}var B3=Bz;var B0=B3.childNodes.length;if(isNodeText(B3)){return{node:B3,index:B2,maxIndex:B3.nodeValue.length};}else{if(B0==0){return{node:B3,index:0,maxIndex:1};}else{if(B2==B0){var B1=B3.childNodes.item(B0-1);var By=BS(B1);return{node:B1,index:By,maxIndex:By};}else{var B1=B3.childNodes.item(B2);var By=BS(B1);return{node:B1,index:0,maxIndex:By};}}}}var Bv={};Bv.startPoint=Bx(Bs.startContainer,Bs.startOffset);Bv.endPoint=Bx(Bs.endContainer,Bs.endOffset);Bv.focusAtStart=(((Bs.startContainer!=Bs.endContainer)||(Bs.startOffset!=Bs.endOffset))&&Bp.anchorNode&&(Bp.anchorNode==Bs.endContainer)&&(Bp.anchorOffset==Bs.endOffset));return Bv;}else{return null;}}}function AN(Bz){function Br(B0){return{node:B0.node,index:B0.index,maxIndex:B0.maxIndex};}if(browser.msie){function By(){return BP.body.createTextRange();}function i(B0,B1){if(isNodeText(B1)){if(B1.previousSibling&&!isNodeText(B1.previousSibling)){Bl(B0,B1.previousSibling);}else{i(B0,B1.parentNode);}}else{B0.moveToElementText(B1);B0.collapse(true);}}function Bl(B0,B1){if(isNodeText(B1)){i(B0,B1);B0.move("character",B1.nodeValue.length);}else{B0.moveToElementText(B1);B0.collapse(false);}}function Bo(B0){var B1=By();var B2=B0.node;if(isNodeText(B2)){i(B1,B2);B1.move("character",B0.index);}else{if(B0.index==0){i(B1,B2);}else{Bl(B1,B2);}}return B1;}if(Bz){var Bn=Br(Bz.startPoint);var Bx=Br(Bz.endPoint);if(Bx.index==Bx.maxIndex&&Bx.node.nextSibling){Bx.node=Bx.node.nextSibling;Bx.index=0;Bx.maxIndex=BS(Bx.node);}var Bt=Bo(Bn);Bt.setEndPoint("EndToEnd",Bo(Bx));function Bw(B2){var B1;try{B1=BP.selection;}catch(B3){}if(!B1){return false;}var B0=B1.createRange();if(B0.parentElement().ownerDocument!=BP){return false;}if(B2.compareEndPoints("StartToStart",B0)!==0){return false;}if(B2.compareEndPoints("EndToEnd",B0)!==0){return false;}return true;}if(!Bw(Bt)){Bt.select();}}else{try{BP.selection.empty();}catch(Bv){}}}else{var Bs;function Bu(B1){var B0=Br(B1);if(Bs){while(B0.node.childNodes.length>0&&(B0.node==BY||B0.node.parentNode==BY)){if(B0.index==0){B0.node=B0.node.firstChild;B0.maxIndex=BS(B0.node);}else{if(B0.index==B0.maxIndex){B0.node=B0.node.lastChild;B0.maxIndex=BS(B0.node);B0.index=B0.maxIndex;}else{break;}}}}if(isNodeText(B0.node)){return{container:B0.node,offset:B0.index};}else{return{container:B0.node.parentNode,offset:AK(B0.node)+B0.index};}}var Bp=window.getSelection();if(Bp){Bp.removeAllRanges();if(Bz){Bs=(Bz.startPoint.node===Bz.endPoint.node&&Bz.startPoint.index===Bz.endPoint.index);var Bm=Bu(Bz.startPoint);var Bq=Bu(Bz.endPoint);if(Bz.focusAtStart&&Bp.collapse&&Bp.extend){Bp.collapse(Bq.container,Bq.offset);Bp.extend(Bm.container,Bm.offset);}else{var Bt=BP.createRange();Bt.setStart(Bm.container,Bm.offset);Bt.setEnd(Bq.container,Bq.offset);Bp.removeAllRanges();Bp.addRange(Bt);}}}}}function AK(Bl){var i=0;while(Bl.previousSibling){i++;Bl=Bl.previousSibling;}return i;}function Ai(){A4();function Bw(Bz,B0,i){if(Bz[B0]!=i){Bz[B0]=i;}}var Bp=A9.firstChild.offsetWidth;var Bs=Bp+Al;if(Bs\\x3cBL){Bs=BL;}Y=(Bs+BN+Bd);Bw(AQ.style,"left",Y+"px");Bw(A9.style,"width",Bs+"px");for(var Br=0;Br\\x3c2;Br++){var Bm=BY.clientHeight;var Bq=(browser.msie?BY.createTextRange().boundingWidth:BY.clientWidth);var Bn=Bf()-n-BV;var Bt=h()-Y-BC;if(Bm\\x3cBn){Bm=Bn;if(browser.msie){Bw(A5.document.documentElement.style,"overflowY","auto");}}else{if(browser.msie){Bw(A5.document.documentElement.style,"overflowY","scroll");}}if(BQ){Bq=Bt;}else{if(Bq\\x3cBt){Bq=Bt;}}if(Bm>32000){Bm=32000;}if(Bq>32000){Bq=32000;}Bw(AQ.style,"height",Bm+"px");Bw(AQ.style,"width",Bq+"px");Bw(A9.style,"height",Bm+"px");}if(browser.mozilla){if(!BQ){var Bu=BY;var Bo=Bn+"px";Bw(Bu.style,"height",Bo);}else{Bw(BY.style,"height","");}}var By=Ah();var Bx=Ag();var Bv=A5;var Bl=20;W();A9.className="sidedivdelayed";}function As(){var Bm=A5;var i=A5.document;if(typeof (Bm.pageYOffset)=="number"){return{x:Bm.pageXOffset,y:Bm.pageYOffset};}var Bl=i.documentElement;if(Bl&&typeof (Bl.scrollTop)=="number"){return{x:Bl.scrollLeft,y:Bl.scrollTop};}}function Ah(){return As().x;}function Ag(){return As().y;}function BD(i){A5.scrollTo(i,Ag());}function BB(i){A5.scrollTo(Ah(),i);}function Af(i,Bl){A5.scrollTo(i,Bl);}var BK=[];function At(){forEach(BK,function(i){i();});}BO(window,"load",Ak);function a(i){try{function Bn(Bo,Bq,Bp){if(String(Bo[Bq]).toLowerCase()!=Bp){Bo[Bq]=Bp;return true;}return false;}if(browser.msie||browser.safari){Bn(BY,"contentEditable",(i?"true":"false"));}else{var Bl=Bn(BP,"designMode",(i?"on":"off"));if(Bl&&i&&browser.opera){AX();}}return true;}catch(Bm){return false;}}function AU(i){var Bl=window.clipboardData&&window.clipboardData.getData("Text");if(Bl&&BP.selection){function Bm(Bo){return Ae(Ba(Ar(Bo)));}var Bn=map(Bl.replace(/\\\\r/g,"").split("\\\\n"),Bm).join("\\x3cbr>");BP.selection.createRange().pasteHTML(Bn);i.preventDefault();}}var AR=false;function AD(i){if(i.type=="compositionstart"){AR=true;}else{if(i.type=="compositionend"){AR=false;}}}function AX(){BO(document,"keydown",Z);BO(document,"keypress",Z);BO(document,"keyup",Z);BO(document,"click",Bi);BO(BY,"blur",Aw);if(browser.msie){BO(BY,"paste",AU);}BO(window,"unload",At);if(document.documentElement){BO(document.documentElement,"text",AD);BO(document.documentElement,"compositionstart",AD);BO(document.documentElement,"compositionend",AD);}}function Ak(){BP=document;AL("setup",function(){var i=BP.getElementById("innerdocbody");BY=i;if(browser.mozilla){i.className+=" mozilla";}if(browser.safari){i.className+=" safari";}if(browser.msie){i.className+=" msie";}if(browser.msie){BP.execCommand("BackgroundImageCache",false,true);}W();while(BY.firstChild){BY.removeChild(BY.firstChild);}AB("");AX();});Aq.setTimeout(function(){parent.readyFunc();},0);AV=true;}function P(){window.focus();BY.focus();}function Aw(i){if(browser.msie){AN(null);}}function BO(Bn,Bl,Bm){var i;if((typeof Bm._wrapper)!="function"){Bm._wrapper=function(Bo){Bm(A6(Bo||window.event||{}));};}var i=Bm._wrapper;if(Bn.addEventListener){Bn.addEventListener(Bl,i,false);}else{Bn.attachEvent("on"+Bl,i);}BK.push(function(){AT(Bn,Bl,Bm);});}function AT(Bn,Bl,Bm){var i=Bm._wrapper;if(Bn.removeEventListener){Bn.removeEventListener(Bl,i,false);}else{Bn.detachEvent("on"+Bl,i);}}function AO(Bv){var Bp=Bv.node;var Bt=Bv.index;function Bl(Bw){return Bw.offsetLeft;}function Bq(Bw){return Bw.offsetLeft+Bw.offsetWidth;}if(!isNodeText(Bp)){if(Bt==0){return Bl(Bp);}else{return Bq(Bp);}}else{var Br=Bt;var Bn=Bp.nodeValue.length-Bt;var Bo;for(Bo=Bp.previousSibling;Bo&&isNodeText(Bo);Bo=Bo.previousSibling){Br+=Bo.nodeValue;}var i=(Bo?Bq(Bo):Bl(Bp.parentNode));for(Bo=Bp.nextSibling;Bo&&isNodeText(Bo);Bo=Bo.nextSibling){Bn+=Bo.nodeValue;}var Bu=(Bo?Bl(Bo):Bq(Bp.parentNode));var Bm=(Br/(Br+Bn));var Bs=i+Bm*(Bu-i);return Math.round(Bs);}}function j(){var Bl=A5;var i=Bl.document;if(Bl.innerHeight&&Bl.scrollMaxY){return Bl.innerHeight+Bl.scrollMaxY;}else{if(i.body.scrollHeight>i.body.offsetHeight){return i.body.scrollHeight;}else{return i.body.offsetHeight;}}}function BF(){var Bl=A5;var i=Bl.document;if(Bl.innerWidth&&Bl.scrollMaxX){return Bl.innerWidth+Bl.scrollMaxX;}else{if(i.body.scrollWidth>i.body.offsetWidth){return i.body.scrollWidth;}else{return i.body.offsetWidth;}}}function Bf(){var Bm=A5;var Bl=Bm.document;var i;if(browser.opera){i=Bm.innerHeight;}else{i=Bl.documentElement.clientHeight;}if(i){return i;}return Number(f.frame.parentNode.style.height.replace(/[^0-9]/g,"")||0);}function h(){var Bl=A5;var i=Bl.document;return i.documentElement.clientWidth;}function w(Bn){var Bo=A5;var Bl=A5.document;var i=Bn.offsetTop+BV-Bo.scrollY;var Bm=Bo.scrollY+Bf()-(Bn.offsetTop+BV+Bn.offsetHeight);if(i\\x3c0){Bo.scrollBy(0,i);}else{if(Bm\\x3c0){Bo.scrollBy(0,-Bm);}}}function BG(Bl){var Bo=A5;var Bm=A5.document;Bl+=Y;var i=Bl-Bo.scrollX;var Bn=Bo.scrollX+h()-Bl;if(i\\x3c0){Bo.scrollBy(i,0);}else{if(Bn\\x3c0){Bo.scrollBy(-Bn+1,0);}}}function BA(){if(!AI.selStart){return ;}Ai();var Bm=(AI.selFocusAtStart?AI.selStart[0]:AI.selEnd[0]);w(AI.lines.atIndex(Bm).lineNode);if(!BQ){var i=Au();if(i){var Bn=(i.focusAtStart?i.startPoint:i.endPoint);var Bl=AO(Bn);BG(Bl);Ai();}}}mozillaFakeArrows=(browser.mozilla&&(function(){var i=0;var Bl=false;return{notifySelectionChanged:function(){if(!Bl){i=0;}},handleKeyEvent:function(B2){if(B2.type!="keypress"){return false;}var By=B2.keyCode;if(By\\x3c37||By>40){return false;}Bc();if(!(AI.selStart&&AI.selEnd)){return true;}var B8=[AI.selStart[0],AI.selStart[1]];var CA=[AI.selEnd[0],AI.selEnd[1]];var Bn=Bb();if(AI.selFocusAtStart){var B9=B8;B8=CA;CA=B9;}var CC=38,Bz=40,Bq=37,B3=39;var Bt=false;if(Bn&&!B2.shiftKey){B8=CA;}else{if((!Bn)&&(!B2.shiftKey)){if(By==Bq){if(AI.selFocusAtStart){B8=CA;}else{CA=B8;}if(!B2.metaKey){Bt=true;}}else{if(By==B3){if(AI.selFocusAtStart){CA=B8;}else{B8=CA;}if(!B2.metaKey){Bt=true;}}else{B8=CA;}}}}if(!Bt){function B4(CD){return AI.lines.atIndex(CD).text.length;}if(By==CC||By==Bz){var B0=(By==CC);var Bp=((B0&&CA[0])||((!B0)&&CA[0]\\x3cAI.lines.length()-1));var CB,B6,Bm=false;if(BQ){CB=makeVirtualLineView(AI.lines.atIndex(CA[0]).lineNode);B6=CB.getVLineAndOffsetForChar(CA[1]);Bm=((B0&&B6.vline>0)||((!B0)&&B6.vline\\x3c(CB.getNumVirtualLines()-1)));}var Bs;if(B2.metaKey){if(B0){CA[0]=0;CA[1]=0;}else{CA[0]=AI.lines.length()-1;CA[1]=B4(CA[0]);}}else{if(Bm){var Bv=B6.vline;var Bu=B6.offset;if(B0){Bv--;}else{Bv++;}if(i>Bu){Bu=i;}else{i=Bu;}var B5=CB.getCharForVLineAndOffset(Bv,Bu);CA[1]=B5.lineChar;}else{if(Bp){if(B0){CA[0]--;}else{CA[0]++;}var Bu=CA[1];if(BQ){Bu=B6.offset;}if(i>Bu){Bu=i;}else{i=Bu;}if(BQ){var B7=makeVirtualLineView(AI.lines.atIndex(CA[0]).lineNode);var Bv=(B0?B7.getNumVirtualLines()-1:0);var B5=B7.getCharForVLineAndOffset(Bv,Bu);CA[1]=B5.lineChar;}else{var Bx=B4(CA[0]);if(Bu>Bx){Bu=Bx;}CA[1]=Bu;}}else{if(B0){CA[1]=0;}else{CA[1]=B4(CA[0]);}i=0;}}}}else{if(By==Bq||By==B3){var Br=(By==Bq);if(Br){if(B2.metaKey){CA[1]=0;}else{if(CA[1]>0){CA[1]--;}else{if(CA[0]>0){CA[0]--;CA[1]=B4(CA[0]);}}}}else{var Bx=B4(CA[0]);if(B2.metaKey){CA[1]=Bx;}else{if(CA[1]\\x3cBx){CA[1]++;}else{if(CA[0]\\x3cAI.lines.length()-1){CA[0]++;CA[1]=0;}}}}i=0;}}}var B1=((CA[0]\\x3cB8[0])||(CA[0]==B8[0]&&CA[1]\\x3cB8[1]));var Bw=(B1?CA:B8);var Bo=(B1?B8:CA);Bl=true;I(Bw,Bo,B1);Bl=false;Bh.userChangedSelection=true;return true;}};})());function A6(Bm){var Bl=Bm;Bm=extend({},Bl);Bm.preventDefault=function(){if(Bl.preventDefault){Bl.preventDefault();}Bl.returnValue=false;};Bm.stopPropagation=function(){if(Bl.stopPropagation){Bl.stopPropagation();}Bl.cancelBubble=true;};if(!Bm.target&&Bm.srcElement){Bm.target=Bm.srcElement;}if(browser.safari&&Bm.target.nodeType==3){Bm.target=Bl.target.parentNode;}if(!Bm.relatedTarget&&Bm.fromElement){Bm.relatedTarget=Bm.fromElement==Bm.target?Bm.toElement:Bm.fromElement;}if(Bm.pageX==null&&Bm.clientX!=null){var Bn=document.documentElement,i=document.body;Bm.pageX=Bm.clientX+(Bn&&Bn.scrollLeft||i.scrollLeft||0);Bm.pageY=Bm.clientY+(Bn&&Bn.scrollTop||i.scrollTop||0);}if(!Bm.which&&(Bm.charCode||Bm.keyCode)){Bm.which=Bm.charCode||Bm.keyCode;}if(!Bm.metaKey&&Bm.ctrlKey){Bm.metaKey=Bm.ctrlKey;}if(!Bm.which&&Bm.button){Bm.which=(Bm.button&1?1:(Bm.button&2?3:(Bm.button&4?2:0)));}return Bm;}var AE;var BM;function L(){AE=1;A9.innerHTML=\\\'\\x3ctable border="0" cellpadding="0" cellspacing="0" align="right">\\x3ctr>\\x3ctd id="sidedivinner">\\x3cdiv>1\\x3c/div>\\x3c/td>\\x3c/tr>\\x3c/table>\\\';BM=A5.document.getElementById("sidedivinner");}function A4(){var Br=AI.lines.length();if(Br\\x3c1){Br=1;}if(Br!=AE){var Bl=BM;var Bs=A5.document;while(AE\\x3cBr){AE++;var Bm=AE;var i=Bs.createElement("DIV");i.appendChild(Bs.createTextNode(String(Bm)));Bl.appendChild(i);}while(AE>Br){Bl.removeChild(Bl.lastChild);AE--;}}if(BQ&&Bh&&Bh.domClean){var Bq=BM.firstChild;var Bp=BP.body.firstChild;while(Bq&&Bp){var Bo=(Bp.clientHeight||Bp.offsetHeight);if(browser.mozilla&&Bp.nextSibling){Bo=Bp.nextSibling.offsetTop-Bp.offsetTop;}if(Bo){var Bn=Bo+"px";if(Bq.style.height!=Bn){Bq.style.height=Bn;}}Bq=Bq.nextSibling;Bp=Bp.nextSibling;}}}}OUTER(this);\'+\'//-->\\n\\x3c/script>\')'));
Y.push('\'</head><body id="innerdocbody" class="syntax" spellcheck="false">&nbsp;</body></html>\'');var U='editorId = "'+C.id+'"; editorInfo = parent.'+M+'.registry[editorId]; window.onload = function() { setTimeout(function() { var iframe = document.createElement("IFRAME"); iframe.scrolling = "no"; var outerdocbody = document.getElementById("outerdocbody"); iframe.frameBorder = 0; outerdocbody.insertBefore(iframe, outerdocbody.firstChild); iframe.ace_outerWin = window; readyFunc = function() { editorInfo.onEditorReady(); }; var doc = iframe.contentWindow.document; doc.open(); doc.write('+Y.join("+")+"); doc.close(); }, 0); }";
var Z=[W,"<html><head>",('<style type="text/css">body{margin:0;font-size:12px;font-family:monospace;background-color:#fff;white-space:nowrap;}body.doesWrap{white-space:normal;}body{line-height:16px;}#innerdocbody{padding-top:1px;padding-right:10px;padding-bottom:8px;padding-left:0;overflow:hidden;cursor:text;}#sidediv{font-size:11px;padding-top:8px;padding-right:3px;position:absolute;width:20px;top:0;left:0;cursor:default;color:white;}#sidedivinner{text-align:right;}.sidedivdelayed{background-color:#eee;color:#888!important;border-right:1px solid black;}#outerdocbody iframe{display:block;position:relative;left:32px;top:7px;border:0;width:1px;height:1px;}#outerdocbody .hotrect{border:1px solid #999;position:absolute;}body.mozilla,body.safari{display:table-cell;}body.doesWrap{display:block!important;}.safari div{padding-right:1px;}p{margin:0;}ul,ol,li{padding:0!important;margin:0!important;list-style:none!important;}</style>'),'<link rel="stylesheet" type="text/css" href="data:text/css,"/>',"<script>",U,"<\/script>",'</head><body id="outerdocbody"><div id="sidediv"><!-- --></div></body></html>'];
var V=document.createElement("IFRAME");V.frameBorder=0;C.frame=V;document.getElementById(R).appendChild(V);
var X=V.contentWindow.document;X.open();X.write(Z.join(""));X.close();I.adjustSize();})();};return I;
}